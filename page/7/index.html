<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Doing is better than saying.">
<meta property="og:type" content="website">
<meta property="og:title" content="winney">
<meta property="og:url" content="http://example.com/page/7/index.html">
<meta property="og:site_name" content="winney">
<meta property="og:description" content="Doing is better than saying.">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="winney">
<meta property="article:tag" content="winneyBlog   博客">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/7/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>winney</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">winney</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">It is never too old to learn.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <img alt="winney" src="/images/blog-head.jpg">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/17/Vue%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E5%BA%93-Pinia/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="winney">
      <meta itemprop="description" content="Doing is better than saying.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="winney">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/17/Vue%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E5%BA%93-Pinia/" class="post-title-link" itemprop="url">Vue状态管理库-Pinia</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-17 11:12:54" itemprop="dateCreated datePublished" datetime="2022-06-17T11:12:54+08:00">2022-06-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-10-30 13:18:11" itemprop="dateModified" datetime="2024-10-30T13:18:11+08:00">2024-10-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/" itemprop="url" rel="index"><span itemprop="name">前端开发框架</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/Vue-js/" itemprop="url" rel="index"><span itemprop="name">Vue.js</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://pinia.vuejs.org/">Pinia-官网</a></p>
<p><a target="_blank" rel="noopener" href="https://stackblitz.com/github/piniajs/example-vue-3-vite?file=index.html">Pinia-Demo</a></p>
<h4 id="pinia2入门使用"><a href="#pinia2入门使用" class="headerlink" title="pinia2入门使用"></a><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/d42b9c57cbac">pinia2入门使用</a></h4>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/04/12/React-Router%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="winney">
      <meta itemprop="description" content="Doing is better than saying.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="winney">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/12/React-Router%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">React Router笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-04-12 14:34:59" itemprop="dateCreated datePublished" datetime="2022-04-12T14:34:59+08:00">2022-04-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-10-30 13:18:11" itemprop="dateModified" datetime="2024-10-30T13:18:11+08:00">2024-10-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/" itemprop="url" rel="index"><span itemprop="name">前端开发框架</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/React/" itemprop="url" rel="index"><span itemprop="name">React</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="http://react-guide.github.io/react-router-cn/">React Router 中文文档</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/remix-run/react-router">react-router</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/remix-run/react-router/blob/main/docs/getting-started/installation.md">docs–installation.md</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/remix-run/react-router/tree/main/packages/react-router-dom">react-router-dom</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/remix-run/react-router/blob/main/docs/getting-started/tutorial.md">docs-tutorial.md</a></p>
<h3 id="引入路由"><a href="#引入路由" class="headerlink" title="引入路由"></a>引入路由</h3><p>依赖包分间接依赖包和直接依赖包</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm i react-router-dom</span><br></pre></td></tr></table></figure>

<p>在pages目录中，创建路由组件</p>
<h4 id="React-Router—看这里的最新用法"><a href="#React-Router—看这里的最新用法" class="headerlink" title="React Router—看这里的最新用法"></a><a target="_blank" rel="noopener" href="https://reactrouter.com/">React Router—看这里的最新用法</a></h4><p><a target="_blank" rel="noopener" href="https://github.com/remix-run/react-router">react-router—–Github</a></p>
<p><a target="_blank" rel="noopener" href="http://react-guide.github.io/react-router-cn/docs/API.html">React Router中文文档</a></p>
<h4 id="react-router-dom使用指南"><a href="#react-router-dom使用指南" class="headerlink" title="react-router-dom使用指南"></a><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/431389907">react-router-dom使用指南</a></h4><p>v6文档：<a target="_blank" rel="noopener" href="https://reactrouter.com/">https://reactrouter.com</a></p>
<p>v5文档：<a target="_blank" rel="noopener" href="https://v5.reactrouter.com/web/guides/quick-start">https://v5.reactrouter.com/web/guides/quick-start</a></p>
<p><a target="_blank" rel="noopener" href="https://baijiahao.baidu.com/s?id=1727136927711386422&wfr=spider&for=pc">最全前端路由配置、中大型后台前端配置，vue-router react-router</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// 入口文件index.js</span><br><span class="line">import React from &quot;react&quot;;</span><br><span class="line">import ReactDOM from &quot;react-dom&quot;</span><br><span class="line">import &#123; BrowserRouter &#125; from &quot;react-router-dom&quot;;</span><br><span class="line">import App from &#x27;./App&#x27;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;BrowserRouter&gt;</span><br><span class="line">      &lt;App /&gt;</span><br><span class="line">    &lt;/BrowserRouter&gt;,</span><br><span class="line">    document.getElementById(&quot;root&quot;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// 应用的根组件App.js</span><br><span class="line">import React, &#123;Component&#125; from &quot;react&quot;;</span><br><span class="line">import &#123;Routes, Route &#125; from &quot;react-router-dom&quot;;</span><br><span class="line">import &quot;./App.less&quot;;</span><br><span class="line"></span><br><span class="line">import Login from &quot;./pages/login/Login&quot;;</span><br><span class="line">import Admin from &quot;./pages/admin/Admin&quot;;</span><br><span class="line"></span><br><span class="line">export default class App extends Component &#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;Routes&gt;</span><br><span class="line">                &lt;Route path=&quot;/login&quot; element=&#123;&lt;Login /&gt;&#125;&gt;&lt;/Route&gt;</span><br><span class="line">                &lt;Route path=&quot;/&quot; element=&#123;&lt;Admin /&gt;&#125;&gt;&lt;/Route&gt;</span><br><span class="line">            &lt;/Routes&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Navigate &#125; from &#x27;react-router-dom&#x27;;</span><br><span class="line">function A()&#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;Navigate to=&quot;/b&quot; /&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="编程式重定向"><a href="#编程式重定向" class="headerlink" title="编程式重定向"></a>编程式重定向</h4><p>navigate要在useEffect中使用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123;useEffect&#125; from &#x27;react&#x27;</span><br><span class="line"></span><br><span class="line">useEffect(() =&gt; &#123;</span><br><span class="line">  if(user.isLogin) &#123;</span><br><span class="line">    navigate(&quot;/home&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, [user]);</span><br></pre></td></tr></table></figure>



<p><a target="_blank" rel="noopener" href="https://reactrouter.com/docs/en/v6/getting-started/concepts#navigate-function">Navigation Function</a></p>
<h4 id="使用layout的路由配置"><a href="#使用layout的路由配置" class="headerlink" title="使用layout的路由配置"></a>使用layout的路由配置</h4><p><a target="_blank" rel="noopener" href="https://github.com/remix-run/react-router/tree/main/examples/lazy-loading">参考-lazy-loading</a></p>
<h5 id="关键点：Outlet"><a href="#关键点：Outlet" class="headerlink" title="关键点：Outlet"></a>关键点：Outlet</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; useEffect&#125; from &#x27;react&#x27;</span><br><span class="line">import &#123; useSelector&#125; from &#x27;react-redux&#x27;</span><br><span class="line">import &#123; useNavigate  &#125; from &quot;react-router-dom&quot;;</span><br><span class="line"></span><br><span class="line">import &#123; Routes, Route, Outlet &#125; from &quot;react-router-dom&quot;;</span><br><span class="line"></span><br><span class="line">import &#123; Layout&#125; from &#x27;antd&#x27;;</span><br><span class="line"></span><br><span class="line">import Top from &#x27;../../components/Top&#x27;</span><br><span class="line">import Bottom from &#x27;../../components/Bottom&#x27;</span><br><span class="line">import LeftNav from &quot;../../components/LeftNav&quot;</span><br><span class="line"></span><br><span class="line">import Product from &#x27;../product/Product&#x27;;</span><br><span class="line">import AddProduct from &#x27;../product/AddProduct&#x27;;</span><br><span class="line">import EditProduct from &#x27;../product/EditProduct&#x27;;</span><br><span class="line"></span><br><span class="line">const &#123; Content&#125; = Layout;</span><br><span class="line"></span><br><span class="line">export default function Container() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;Routes&gt;</span><br><span class="line">      &lt;Route path=&quot;/&quot; element=&#123;&lt;DashboardLayout /&gt;&#125;&gt;</span><br><span class="line">        &lt;Route index element=&#123;&lt;Product /&gt;&#125; /&gt;</span><br><span class="line">        &lt;Route path=&quot;add&quot; element=&#123;&lt;AddProduct /&gt;&#125; /&gt;</span><br><span class="line">        &lt;Route path=&quot;edit&quot; element=&#123;&lt;EditProduct /&gt;&#125; /&gt;</span><br><span class="line">      &lt;/Route&gt;</span><br><span class="line">    &lt;/Routes&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function DashboardLayout() &#123;</span><br><span class="line"> </span><br><span class="line">    let navigate = useNavigate();</span><br><span class="line">    const stateUser = useSelector(state =&gt; state.user);</span><br><span class="line">    const root = JSON.parse(localStorage.getItem(&#x27;persist:root&#x27;));</span><br><span class="line">    const user = JSON.parse(root.user) || stateUser;</span><br><span class="line">    </span><br><span class="line">    // 未登录</span><br><span class="line">    useEffect(() =&gt; &#123;</span><br><span class="line">        if(!user.isLogin) &#123;</span><br><span class="line">          navigate(&quot;/login&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, [user]);</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;Layout className=&#x27;container&#x27;&gt;</span><br><span class="line">        &lt;LeftNav/&gt;</span><br><span class="line">        &lt;Layout&gt;</span><br><span class="line">            &lt;Top user=&#123;user&#125;/&gt;</span><br><span class="line">            &lt;Content style=&#123;&#123; margin: &#x27;24px 16px 0&#x27; &#125;&#125;&gt;</span><br><span class="line">                &lt;div className=&quot;site-layout-background content-box&quot; style=&#123;&#123; padding: 24, minHeight: 850 &#125;&#125;&gt;</span><br><span class="line">                  &lt;Outlet /&gt;</span><br><span class="line">                &lt;Bottom/&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/Content&gt;</span><br><span class="line">        &lt;/Layout&gt;</span><br><span class="line">    &lt;/Layout&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/11/03/Vue3-Vite-Vant-%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="winney">
      <meta itemprop="description" content="Doing is better than saying.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="winney">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/11/03/Vue3-Vite-Vant-%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">Vue3-Vite-Vant-笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-11-03 16:50:58" itemprop="dateCreated datePublished" datetime="2021-11-03T16:50:58+08:00">2021-11-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-10-30 13:18:11" itemprop="dateModified" datetime="2024-10-30T13:18:11+08:00">2024-10-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/" itemprop="url" rel="index"><span itemprop="name">前端开发框架</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/Vue-js/" itemprop="url" rel="index"><span itemprop="name">Vue.js</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/351888882">vue3使用vite2移动端项目</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/442732586">vite px转rem (vite+vant+vue3 demo)</a></p>
<p>注：如果是ts项目，postcss.config.js需重命名为postcss.config.cjs</p>
<p><a target="_blank" rel="noopener" href="https://www.proyy.com/6956431101141352485.html#toc_3">vite+vue3+ts+eslint编写移动端rem自适应</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_52827704/article/details/123914911">flex布局: 一行显示固定个数，换行展示</a></p>
<h4 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm create vite@latest</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">√ Project name: ... vue3-vite-vant</span><br><span class="line">√ Select a framework: » vue</span><br><span class="line">√ Select a variant: » vue-ts</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd vue3-vite-vant</span><br><span class="line">npm install</span><br><span class="line">npm run dev</span><br></pre></td></tr></table></figure>

<h4 id="使用vant"><a href="#使用vant" class="headerlink" title="使用vant"></a>使用vant</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i vant</span><br></pre></td></tr></table></figure>

<h4 id="按需引入组件（推荐）"><a href="#按需引入组件（推荐）" class="headerlink" title="按需引入组件（推荐）"></a><a target="_blank" rel="noopener" href="https://vant-contrib.gitee.io/vant/#/zh-CN/quickstart#an-xu-yin-ru-zu-jian-tui-jian">按需引入组件（推荐）</a></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i unplugin-vue-components -D</span><br></pre></td></tr></table></figure>

<h5 id="配置vite-config-ts"><a href="#配置vite-config-ts" class="headerlink" title="配置vite.config.ts"></a>配置vite.config.ts</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import &#123; defineConfig &#125; from &#x27;vite&#x27;</span><br><span class="line">import vue from &#x27;@vitejs/plugin-vue&#x27;</span><br><span class="line">import Components from &#x27;unplugin-vue-components/vite&#x27;;</span><br><span class="line">import &#123; VantResolver &#125; from &#x27;unplugin-vue-components/resolvers&#x27;;</span><br><span class="line"></span><br><span class="line">// https://vitejs.dev/config/</span><br><span class="line">export default defineConfig(&#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    vue(),</span><br><span class="line">    Components(&#123;</span><br><span class="line">      resolvers: [VantResolver()],</span><br><span class="line">    &#125;),</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="引入vant的样式"><a href="#引入vant的样式" class="headerlink" title="引入vant的样式"></a>引入vant的样式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#x27;vant/lib/index.css&#x27;;</span><br></pre></td></tr></table></figure>

<h5 id="引入函数组件的样式"><a href="#引入函数组件的样式" class="headerlink" title="引入函数组件的样式"></a>引入函数组件的样式</h5><p>Vant 中有个别组件是以函数的形式提供的，包括 <code>Toast</code>，<code>Dialog</code>，<code>Notify</code> 和 <code>ImagePreview</code> 组件。在使用函数组件时，<code>unplugin-vue-components</code> 无法自动引入对应的样式，因此需要手动引入样式。</p>
<h4 id="使用方法1"><a href="#使用方法1" class="headerlink" title="使用方法1"></a>使用方法1</h4><h5 id="在-lt-script-setup-gt-中可以直接使用-Vant-组件，不需要进行组件注册。"><a href="#在-lt-script-setup-gt-中可以直接使用-Vant-组件，不需要进行组件注册。" class="headerlink" title="在 &lt;script setup&gt; 中可以直接使用 Vant 组件，不需要进行组件注册。"></a>在 <code>&lt;script setup&gt;</code> 中可以直接使用 Vant 组件，不需要进行组件注册。</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">  import &#123; Button &#125; from &#x27;vant&#x27;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;Button /&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h4 id="使用方法2"><a href="#使用方法2" class="headerlink" title="使用方法2"></a>使用方法2</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;van-button type=&quot;primary&quot;&gt;主要按钮&lt;/van-button&gt;</span><br><span class="line">    &lt;van-button disabled type=&quot;primary&quot;&gt;禁用状态&lt;/van-button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h4 id="移动端适配写法-设计稿尺寸（750-1624px）"><a href="#移动端适配写法-设计稿尺寸（750-1624px）" class="headerlink" title="移动端适配写法-设计稿尺寸（750*1624px）"></a>移动端适配写法-设计稿尺寸（750*1624px）</h4><p><a target="_blank" rel="noopener" href="https://www.zcool.com.cn/article/ZODQ2Mzg0.html">移动端设计规范和方法汇总</a></p>
<h5 id="一、rem写法"><a href="#一、rem写法" class="headerlink" title="一、rem写法"></a>一、rem写法</h5><p>1.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">html, body&#123;</span><br><span class="line">    font-size: 0.13333333vw;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.元素在750宽的设计稿中，多少px，就写多少rem</p>
<h5 id="二、viewport插件的写法"><a href="#二、viewport插件的写法" class="headerlink" title="二、viewport插件的写法"></a>二、viewport插件的写法</h5><p>元素在750宽的设计稿中，<code>*px</code>，就写<code>*/2px</code>  (要除以2)</p>
<h4 id="Rem适配"><a href="#Rem适配" class="headerlink" title="Rem适配"></a><a target="_blank" rel="noopener" href="https://vant-contrib.gitee.io/vant/#/zh-CN/advanced-usage#liu-lan-qi-gua-pei">Rem适配</a></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install postcss postcss-pxtorem --save-dev</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -S amfe-flexible</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://github.com/amfe/lib-flexible">https://github.com/amfe/lib-flexible</a></p>
<blockquote>
<p>由于<code>viewport</code>单位得到众多浏览器的兼容，<code>lib-flexible</code>这个过渡方案已经可以放弃使用，不管是现在的版本还是以前的版本，都存有一定的问题。建议大家开始使用<code>viewport</code>来替代此方。</p>
</blockquote>
<h4 id="Viewport-布局—推荐—本项目使用"><a href="#Viewport-布局—推荐—本项目使用" class="headerlink" title="Viewport 布局—推荐—本项目使用"></a><a target="_blank" rel="noopener" href="https://vant-contrib.gitee.io/vant/#/zh-CN/advanced-usage#viewport-bu-ju">Viewport 布局</a>—推荐—本项目使用</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install postcss-px-to-viewport --save-dev</span><br></pre></td></tr></table></figure>

<h4 id="viewport布局的相关配置"><a href="#viewport布局的相关配置" class="headerlink" title="viewport布局的相关配置"></a>viewport布局的相关配置</h4><p>在项目根目录添加<code>postcss.config.cjs</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// postcss.config.js</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  plugins: &#123;</span><br><span class="line">    &#x27;postcss-px-to-viewport&#x27;: &#123;</span><br><span class="line">      viewportWidth: 375,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><code>注意：添加完文件之后，要重启项目</code></p>
<p>报错：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">This file is being treated as an ES module because it has </span><br><span class="line">a &#x27;.js&#x27; file extension and &#x27;H:\Gitee\Vue3_demo\vue3-vite-vant\package.json&#x27; contains &quot;type&quot;: &quot;module&quot;. To treat it as a CommonJS script, rename it to use the &#x27;.cjs&#x27; file extension.</span><br></pre></td></tr></table></figure>

<p>解决：1.将<code>postcss.config.js</code>改为<code>postcss.config.cjs</code> ;  2.重启服务</p>
<h4 id="使用less"><a href="#使用less" class="headerlink" title="使用less"></a>使用less</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm i less less-loader -D</span><br></pre></td></tr></table></figure>

<h5 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;style lang=&#x27;less&#x27; scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>



<h4 id="在main-ts中引入reset-less"><a href="#在main-ts中引入reset-less" class="headerlink" title="在main.ts中引入reset.less"></a>在main.ts中引入reset.less</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#x27;./assets/css/reset.less&#x27;</span><br></pre></td></tr></table></figure>

<h4 id="reset-less"><a href="#reset-less" class="headerlink" title="reset.less"></a>reset.less</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">/* http://meyerweb.com/eric/tools/css/reset/ </span><br><span class="line">   v2.0 | 20110126</span><br><span class="line">   License: none (public domain)</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">html, body, div, span, applet, object, iframe,</span><br><span class="line">h1, h2, h3, h4, h5, h6, p, blockquote, pre,</span><br><span class="line">a, abbr, acronym, address, big, cite, code,</span><br><span class="line">del, dfn, em, img, ins, kbd, q, s, samp,</span><br><span class="line">small, strike, strong, sub, sup, tt, var,</span><br><span class="line">b, u, i, center,</span><br><span class="line">dl, dt, dd, ol, ul, li,</span><br><span class="line">fieldset, form, label, legend,</span><br><span class="line">table, caption, tbody, tfoot, thead, tr, th, td,</span><br><span class="line">article, aside, canvas, details, embed, </span><br><span class="line">figure, figcaption, footer, header, hgroup, </span><br><span class="line">menu, nav, output, ruby, section, summary,</span><br><span class="line">time, mark, audio, video &#123;</span><br><span class="line">	margin: 0;</span><br><span class="line">	padding: 0;</span><br><span class="line">	border: 0;</span><br><span class="line">	// font-size: 100%;</span><br><span class="line">	// font: inherit;</span><br><span class="line">	vertical-align: baseline;</span><br><span class="line">&#125;</span><br><span class="line">/* HTML5 display-role reset for older browsers */</span><br><span class="line">article, aside, details, figcaption, figure, </span><br><span class="line">footer, header, hgroup, menu, nav, section &#123;</span><br><span class="line">	display: block;</span><br><span class="line">&#125;</span><br><span class="line">body &#123;</span><br><span class="line">	line-height: 1;</span><br><span class="line">&#125;</span><br><span class="line">ol, ul &#123;</span><br><span class="line">	list-style: none;</span><br><span class="line">&#125;</span><br><span class="line">blockquote, q &#123;</span><br><span class="line">	quotes: none;</span><br><span class="line">&#125;</span><br><span class="line">blockquote:before, blockquote:after,</span><br><span class="line">q:before, q:after &#123;</span><br><span class="line">	content: &#x27;&#x27;;</span><br><span class="line">	content: none;</span><br><span class="line">&#125;</span><br><span class="line">table &#123;</span><br><span class="line">	border-collapse: collapse;</span><br><span class="line">	border-spacing: 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="配置手机可访问本地电脑项目"><a href="#配置手机可访问本地电脑项目" class="headerlink" title="配置手机可访问本地电脑项目"></a>配置手机可访问本地电脑项目</h4><p><a target="_blank" rel="noopener" href="http://www.manongjc.com/detail/29-saiyfskdbsqqcmz.html">Vite 使用本地ip+localhost访问服务</a></p>
<p>使用vite新建的项目默认访问链接：<a target="_blank" rel="noopener" href="http://127.0.0.1:5173/">http://127.0.0.1:5173/</a></p>
<ol>
<li><p>修改<code>vite.config.js</code>文件，添加<code>server</code>配置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">server: &#123;</span><br><span class="line">    host: &#x27;0.0.0.0&#x27;,</span><br><span class="line">    port: 8888,</span><br><span class="line">    open: true</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">export default defineConfig(&#123;</span><br><span class="line">  plugins: [vue()],</span><br><span class="line">  base:&#x27;./&#x27;,    // 处理打包后放正式环境的相对路径的问题</span><br><span class="line">  server: &#123;		// 处理使用本地ip访问页面</span><br><span class="line">    host: &#x27;0.0.0.0&#x27;,</span><br><span class="line">    port: 8888,</span><br><span class="line">    open: true</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>若使用手机访问本地ip页面，访问不成功（显示“服务器已停用”）。即要将本地电脑的防火墙“关闭”即可。<a target="_blank" rel="noopener" href="https://blog.csdn.net/zoepriselife316/article/details/117957732">手机和电脑连接同一wifi,手机访问不了电脑起的项目</a></p>
<p>2.1电脑的“设置”——“网络和共享中心”——“Windows Defender 防火墙”（左下角）——“启用或关闭Windows Defender 防火墙”（左侧）——选择“关闭”（专用网络和公用网络都关闭）</p>
<p><code>注意：使用完，最好重新“启用”防火墙。</code></p>
<p>2.2 如果手机连接的当前wifi那里的<code>HTTP代理</code>-<code>配置代理</code>是开启的，将其关闭</p>
</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/dd26cae7d7b2">vite.config.js之resolve.alias配置</a></p>
<h4 id="vue实现动态改变title"><a href="#vue实现动态改变title" class="headerlink" title="vue实现动态改变title"></a><a target="_blank" rel="noopener" href="https://www.dianjilingqu.com/161326.html">vue实现动态改变title</a></h4><h4 id="自定义主题颜色"><a href="#自定义主题颜色" class="headerlink" title="自定义主题颜色"></a><a target="_blank" rel="noopener" href="https://vant-contrib.gitee.io/vant/#/zh-CN/config-provider#zi-ding-yi-css-bian-liang">自定义主题颜色</a></h4><p>1.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ConfigProvider &#125; from &#x27;vant&#x27;;</span><br></pre></td></tr></table></figure>

<p>2.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;van-config-provider :theme-vars=&quot;themeVars&quot;&gt;</span><br><span class="line">    &lt;van-nav-bar</span><br><span class="line">    title=&quot;红包活动&quot;</span><br><span class="line">    left-arrow</span><br><span class="line">    @click-left=&quot;onClickLeft&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">&lt;/van-config-provider&gt;</span><br></pre></td></tr></table></figure>

<p>3.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const themeVars = &#123;</span><br><span class="line">    navBarBackgroundColor: &#x27;#555&#x27;,</span><br><span class="line">    navBarTitleTextColor: &#x27;#fff&#x27;,</span><br><span class="line">    navBarIconColor: &#x27;#fff&#x27;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>原来：background: var(–van-nav-bar-background-color);</p>
<p>自定义写法：navBarBackgroundColor，会转换成–van-nav-bar-background-color</p>
</blockquote>
<h4 id="样式覆盖报错处理"><a href="#样式覆盖报错处理" class="headerlink" title="样式覆盖报错处理"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_51431448/article/details/123003864">样式覆盖报错处理</a></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[@vue/compiler-sfc] the &gt;&gt;&gt; and /deep/ combinators have been deprecated. Use :deep() instead.</span><br></pre></td></tr></table></figure>

<p>在Vue2中 我们经常使用 <strong>&gt;&gt;&gt;</strong> 或 <strong>/deep/</strong> 样式穿透 修改<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=elementui&spm=1001.2101.3001.7020">elementui</a>里面的样式</p>
<p>但是Vue3中 弃用了 <strong>&gt;&gt;&gt;</strong> 和 <strong>/deep/</strong> 使用 <strong>:deep()</strong> 代替</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/deep/ .van-cell__title&#123;</span><br><span class="line">    span&#123;</span><br><span class="line">        font-weight: bold;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> /deep/ .van-cell__left-icon&#123;</span><br><span class="line">    color: red;</span><br><span class="line">    font-size: 30px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>改为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">:deep(.van-cell__title)&#123;</span><br><span class="line">    span&#123;</span><br><span class="line">        font-weight: bold;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">:deep(.van-cell__left-icon)&#123;</span><br><span class="line">    color: red;</span><br><span class="line">    font-size: 30px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="路由配置"><a href="#路由配置" class="headerlink" title="路由配置"></a><a target="_blank" rel="noopener" href="https://router.vuejs.org/installation.html">路由配置</a></h4><p>1.安装</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-router@4</span><br></pre></td></tr></table></figure>

<p>2.src目录中新建router目录，新建index.ts</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">import &#123;createRouter, createWebHashHistory&#125; from &#x27;vue-router&#x27;</span><br><span class="line">import RedPacket from &#x27;../pages/redPacket/index.vue&#x27;;</span><br><span class="line">import Withdraw from &#x27;../pages/Withdraw/index.vue&#x27;</span><br><span class="line"></span><br><span class="line">const routes = [</span><br><span class="line">    &#123; </span><br><span class="line">        path: &#x27;/&#x27;,</span><br><span class="line">        component: RedPacket,</span><br><span class="line">        meta: &#123;</span><br><span class="line">            title: &#x27;红包活动&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123; </span><br><span class="line">        path: &#x27;/withdraw&#x27;,</span><br><span class="line">        component: Withdraw,</span><br><span class="line">        meta: &#123;</span><br><span class="line">            title: &#x27;提现&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">const router = createRouter(&#123;</span><br><span class="line">    history: createWebHashHistory(),</span><br><span class="line">    routes, </span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">export default router;</span><br></pre></td></tr></table></figure>

<p>3.修改mian.ts</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import router from &#x27;./router&#x27;;</span><br><span class="line"></span><br><span class="line">app.use(router);</span><br></pre></td></tr></table></figure>

<p>4.App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h4 id="动态修改页面Title"><a href="#动态修改页面Title" class="headerlink" title="动态修改页面Title"></a>动态修改页面Title</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">router.beforeEach((to, from) =&gt; &#123;</span><br><span class="line">    // 动态修改页面title</span><br><span class="line">    if (to.meta.title) &#123;</span><br><span class="line">        document.title = to.meta.title  as string;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="页面跳转组件-router-link"><a href="#页面跳转组件-router-link" class="headerlink" title="页面跳转组件-router-link"></a>页面跳转组件-router-link</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link to=&quot;/withdraw&quot;&gt;</span><br><span class="line">    &lt;van-button color=&quot;#fe8124&quot; plain size=&quot;small&quot;&gt; </span><br><span class="line">    提现</span><br><span class="line">    &lt;/van-button&gt;</span><br><span class="line">&lt;/router-link&gt; </span><br></pre></td></tr></table></figure>

<h4 id="自定义主题放在App-vue"><a href="#自定义主题放在App-vue" class="headerlink" title="自定义主题放在App.vue"></a>自定义主题放在App.vue</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; ConfigProvider &#125; from &#x27;vant&#x27;;</span><br><span class="line">// 自定义主题颜色</span><br><span class="line">  const themeVars = &#123;</span><br><span class="line">      navBarBackgroundColor: &#x27;#555&#x27;,</span><br><span class="line">      navBarTitleTextColor: &#x27;#fff&#x27;,</span><br><span class="line">      navBarIconColor: &#x27;#fff&#x27;,</span><br><span class="line">      cellHorizontalPadding: &#x27;8px&#x27;</span><br><span class="line">  &#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;van-config-provider :theme-vars=&quot;themeVars&quot;&gt;</span><br><span class="line">      &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">    &lt;/van-config-provider&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style  scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h4 id="父子组件传值-defineProps"><a href="#父子组件传值-defineProps" class="headerlink" title="父子组件传值-defineProps"></a>父子组件传值-defineProps</h4><p>参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/skyblacktoday/article/details/120879677">vue3：语法糖内的defineProps及defineEmits、defineExpose</a></p>
<p>属性：</p>
<p>1.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const props =  defineProps(&#123;</span><br><span class="line">    title: String,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>采用ts专有声明，无默认值</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const props =  defineProps&lt;&#123; // 采用ts专有声明，无默认值</span><br><span class="line">    title: string,</span><br><span class="line">&#125;&gt;()</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>采用ts专有声明，有默认值</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">interface Props &#123;</span><br><span class="line">    title?: string</span><br><span class="line">&#125;</span><br><span class="line">const props = withDefaults(defineProps&lt;Props&gt;(), &#123;</span><br><span class="line">    title: &#x27;首页&#x27;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h5 id="子组件："><a href="#子组件：" class="headerlink" title="子组件："></a>子组件：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;van-nav-bar</span><br><span class="line">    :title=&quot;props.title&quot;</span><br><span class="line">    left-arrow</span><br><span class="line">    @click-left=&quot;onClickLeft&quot;</span><br><span class="line">/&gt;</span><br><span class="line"></span><br><span class="line">const props =  defineProps(&#123;</span><br><span class="line">    title: String,</span><br><span class="line">&#125;)</span><br><span class="line">或带默认值</span><br><span class="line">const props =  defineProps(&#123;</span><br><span class="line">    title: &#123;</span><br><span class="line">        type: String,</span><br><span class="line">        default: &#x27;红包活动&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="父组件："><a href="#父组件：" class="headerlink" title="父组件："></a>父组件：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 顶部导航 --&gt;</span><br><span class="line">&lt;TopNav :title=&quot;&#x27;提现&#x27;&quot;/&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;!-- 顶部导航 --&gt;</span><br><span class="line">&lt;TopNav :title=&quot;&#x27;红包活动&#x27;&quot;/&gt;</span><br></pre></td></tr></table></figure>

<p><code>注意：如果传值是字符串要加上单引号(:title=&quot;&#39;红包活动&#39;&quot;)，否则不生效</code></p>
<h5 id="或使用变量："><a href="#或使用变量：" class="headerlink" title="或使用变量："></a>或使用变量：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;;</span><br><span class="line">const title = ref(&#x27;红包活动&#x27;)</span><br><span class="line"></span><br><span class="line">&lt;!-- 顶部导航 --&gt;</span><br><span class="line">&lt;TopNav :title=&quot;title&quot;/&gt;</span><br></pre></td></tr></table></figure>

<h4 id="子组件传父组件-defineEmits"><a href="#子组件传父组件-defineEmits" class="headerlink" title="子组件传父组件-defineEmits"></a>子组件传父组件-defineEmits</h4><h5 id="子组件：-1"><a href="#子组件：-1" class="headerlink" title="子组件："></a>子组件：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;van-nav-bar</span><br><span class="line">    left-arrow</span><br><span class="line">    :right-text=&quot;props.rightText&quot;</span><br><span class="line">    @click-right=&quot;onClickRight&quot;</span><br><span class="line">/&gt;</span><br><span class="line">const $emit = defineEmits([&#x27;navRightClick&#x27;])</span><br><span class="line">// 导航栏右侧按钮点击</span><br><span class="line">const onClickRight = () =&gt; &#123;</span><br><span class="line">    $emit(&#x27;navRightClick&#x27;)</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const props =  defineProps(&#123;</span><br><span class="line">    rightText: String</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="父组件：-1"><a href="#父组件：-1" class="headerlink" title="父组件："></a>父组件：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;TopNav :title=&quot;&#x27;提现&#x27;&quot; :rightText=&quot;&#x27;提现明细&#x27;&quot; @navRightClick=&quot;handleRightClick&quot;/&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const handleRightClick = () =&gt; &#123;</span><br><span class="line">    console.log(&quot;点击右侧按钮&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="编程式路由跳转"><a href="#编程式路由跳转" class="headerlink" title="编程式路由跳转"></a>编程式路由跳转</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import &#123; useRouter &#125; from &#x27;vue-router&#x27;</span><br><span class="line"></span><br><span class="line">const router = useRouter()</span><br><span class="line">const handleRightClick = () =&gt; &#123;</span><br><span class="line">     router.push(&#x27;/&#x27;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="导航栏父子传值-也可改为插槽的用法"><a href="#导航栏父子传值-也可改为插槽的用法" class="headerlink" title="导航栏父子传值-也可改为插槽的用法"></a>导航栏父子传值-也可改为插槽的用法</h4><h5 id="子组件：-2"><a href="#子组件：-2" class="headerlink" title="子组件："></a>子组件：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;van-nav-bar</span><br><span class="line">    :title=&quot;props.title&quot;</span><br><span class="line">    left-arrow</span><br><span class="line">    @click-left=&quot;onClickLeft&quot;</span><br><span class="line">&gt;</span><br><span class="line">   &lt;template #right&gt;</span><br><span class="line">        &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">&lt;/van-nav-bar&gt;</span><br></pre></td></tr></table></figure>

<p>不能写：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;van-nav-bar</span><br><span class="line">    :title=&quot;props.title&quot;</span><br><span class="line">    left-arrow</span><br><span class="line">    @click-left=&quot;onClickLeft&quot;</span><br><span class="line">&gt;</span><br><span class="line">    &lt;slot&gt;&lt;/slot&gt;      // 这样写不起作用</span><br><span class="line">&lt;/van-nav-bar&gt;</span><br></pre></td></tr></table></figure>

<h5 id="父组件：-2"><a href="#父组件：-2" class="headerlink" title="父组件："></a>父组件：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;TopNav :title=&quot;&#x27;提现&#x27;&quot;&gt;</span><br><span class="line">   &lt;router-link to=&quot;/withdraw/detail&quot;&gt;红包明细&lt;/router-link&gt;</span><br><span class="line">&lt;/TopNav&gt;</span><br></pre></td></tr></table></figure>

<p>或：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;TopNav :title=&quot;&#x27;提现&#x27;&quot;&gt;</span><br><span class="line">   &lt;span @click=&quot;handleRightClick&quot;&gt;红包明细&lt;/span&gt;</span><br><span class="line">&lt;/TopNav&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">const router = useRouter()</span><br><span class="line">const handleRightClick = () =&gt; &#123;</span><br><span class="line">    console.log(&#x27;跳转&#x27;)</span><br><span class="line">     router.push(&#x27;/withdraw/detail&#x27;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h4 id="Vite热更新的开启"><a href="#Vite热更新的开启" class="headerlink" title="Vite热更新的开启"></a>Vite热更新的开启</h4><p>vite.config.ts：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">server: &#123;</span><br><span class="line">    hmr: true,    // 开启热更新</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_45369499/article/details/125158995">vite热更新（vue3）</a>   | <a target="_blank" rel="noopener" href="https://blog.csdn.net/wanglaotou88/article/details/124708297">Vite 是如何做热更新的</a></p>
<p><code>项目的热更新存在延迟，每次都要重启项目</code></p>
<p>做了以上配置还是不起作用：</p>
<p>原因：组件引入的路径大小写写错</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import Withdraw from &#x27;../pages/Withdraw/index.vue&#x27;;</span><br></pre></td></tr></table></figure>

<p>解决：将<code>Withdraw</code>改为<code>withdraw</code>即可</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import Withdraw from &#x27;../pages/withdraw/index.vue&#x27;;</span><br></pre></td></tr></table></figure>

<p>参考：<a target="_blank" rel="noopener" href="https://www.jb51.net/article/240873.htm">Vue Vite热更新不起作用的正确解决办法</a></p>
<blockquote>
<p>提示：文件夹名称严格注意大小写</p>
<p>router 路由中名称 和文件夹(目录), 文件名需要保证大小写一致</p>
</blockquote>
<h4 id="‘v-model’-directives-require-no-argument"><a href="#‘v-model’-directives-require-no-argument" class="headerlink" title="‘v-model’ directives require no argument"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_48952990/article/details/125387578">‘v-model’ directives require no argument</a></h4><p>解决方法：<br>解决方法：<br>在VScode中，打开 “文件&gt;首选项&gt;设置” 找到右侧用户设置<br>搜索vetur.validation,找到下面这句</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;vetur.validation.template&quot;: true  </span><br></pre></td></tr></table></figure>


<p>将true改成false</p>
<p>//如果没有可以直接添加该句 （将检查关闭）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;vetur.validation.template&quot;: false</span><br></pre></td></tr></table></figure>

<h4 id="vue3：复制功能（vue-clipboard3）"><a href="#vue3：复制功能（vue-clipboard3）" class="headerlink" title="vue3：复制功能（vue-clipboard3）"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_40745143/article/details/123688798">vue3：复制功能（vue-clipboard3）</a></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save vue-clipboard3</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import useClipboard from &#x27;vue-clipboard3&#x27;</span><br><span class="line">import &#123; Toast &#125; from &#x27;vant&#x27;;</span><br><span class="line">import &#x27;vant/es/toast/style&#x27;;</span><br><span class="line"></span><br><span class="line">// 复制绑定码</span><br><span class="line">const &#123; toClipboard &#125; = useClipboard()</span><br><span class="line">const copy = async (val:string) =&gt; &#123;</span><br><span class="line">   try &#123;</span><br><span class="line">      await toClipboard(val)</span><br><span class="line">      console.log(&#x27;Copied to clipboard&#x27;)</span><br><span class="line">      Toast.success(&#x27;复制成功&#x27;);</span><br><span class="line">   &#125; catch (e) &#123;</span><br><span class="line">      console.error(e)</span><br><span class="line">   &#125;</span><br><span class="line">   show.value = false;  // 关闭弹窗</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;van-button color=&quot;#fe7c1a&quot; @click=&quot;copy(&#x27;bcJcB9&#x27;)&quot;&gt;复制并前往绑定&lt;/van-button&gt;</span><br></pre></td></tr></table></figure>

<h4 id=""><a href="#" class="headerlink" title=""></a></h4><h4 id="页面布局"><a href="#页面布局" class="headerlink" title="页面布局"></a><a target="_blank" rel="noopener" href="https://vant-contrib.gitee.io/vant/#/zh-CN/col">页面布局</a></h4><p><img src="https://raw.githubusercontent.com/winney07/Images/main/winney07.github.io/Vue3-Vite-Vant-%E7%AC%94%E8%AE%B0/note1.png" alt="layout布局"></p>
<p>左右有padding，元素之间间距相等（加<code>gutter=&quot;15&quot;</code>），元素宽度一样(<code>span=&quot;6&quot;</code>)，换行（每行相加够24）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;van-row justify=&quot;space-between&quot; gutter=&quot;15&quot;&gt;</span><br><span class="line">    &lt;van-col span=&quot;6&quot; class=&quot;active&quot;&gt;</span><br><span class="line">        &lt;van-button type=&quot;primary&quot; size=&quot;small&quot;&gt;2元&lt;/van-button&gt;</span><br><span class="line">    &lt;/van-col&gt;</span><br><span class="line">    &lt;van-col span=&quot;6&quot;&gt;</span><br><span class="line">        &lt;van-button type=&quot;primary&quot; size=&quot;small&quot;&gt;5元&lt;/van-button&gt;</span><br><span class="line">    &lt;/van-col&gt;</span><br><span class="line">    &lt;van-col span=&quot;6&quot;&gt;</span><br><span class="line">        &lt;van-button type=&quot;primary&quot; size=&quot;small&quot;&gt;10元&lt;/van-button&gt;</span><br><span class="line">    &lt;/van-col&gt;</span><br><span class="line">    &lt;van-col span=&quot;6&quot;&gt;</span><br><span class="line">        &lt;van-button type=&quot;primary&quot; size=&quot;small&quot;&gt;2元&lt;/van-button&gt;</span><br><span class="line">    &lt;/van-col&gt;</span><br><span class="line"></span><br><span class="line">    &lt;van-col span=&quot;6&quot;&gt;</span><br><span class="line">        &lt;van-button type=&quot;primary&quot; size=&quot;small&quot;&gt;2元&lt;/van-button&gt;</span><br><span class="line">    &lt;/van-col&gt;</span><br><span class="line">    &lt;van-col span=&quot;6&quot;&gt;</span><br><span class="line">        &lt;van-button type=&quot;primary&quot; size=&quot;small&quot;&gt;2元&lt;/van-button&gt;</span><br><span class="line">    &lt;/van-col&gt;</span><br><span class="line">    &lt;van-col span=&quot;6&quot;&gt;</span><br><span class="line">        &lt;van-button type=&quot;primary&quot; size=&quot;small&quot;&gt;2元&lt;/van-button&gt;</span><br><span class="line">    &lt;/van-col&gt;</span><br><span class="line">    &lt;van-col span=&quot;6&quot;&gt;</span><br><span class="line">        &lt;van-button type=&quot;primary&quot; size=&quot;small&quot;&gt;2元&lt;/van-button&gt;</span><br><span class="line">    &lt;/van-col&gt;</span><br><span class="line">&lt;/van-row&gt;</span><br></pre></td></tr></table></figure>

<p><code>注：这样写，按钮看起来还是不平均配分,因没有给按钮设置宽度（width: 100%;</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">.van-button&#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    border-radius: 5px;</span><br><span class="line">    margin-bottom: 18px;</span><br><span class="line">    background-color: #ffd898;</span><br><span class="line">    border-color: #ffd898;</span><br><span class="line">&#125;</span><br><span class="line">.active&#123;</span><br><span class="line">    .van-button&#123;</span><br><span class="line">        background-color: #ffab22;</span><br><span class="line">        border-color: #ffab22;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="动态绑定class"><a href="#动态绑定class" class="headerlink" title="动态绑定class"></a>动态绑定class</h4><p><code>:class</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:class=&quot;&#123;active: amount === i.amount&#125;</span><br></pre></td></tr></table></figure>

<h3 id="mock数据"><a href="#mock数据" class="headerlink" title="mock数据"></a>mock数据</h3><ol>
<li>vite-plugin-mock</li>
<li>mockjs</li>
<li>axios</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/d812ce349265">mockjs介绍</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/nuysoft/Mock/wiki/Getting-Started">https://github.com/nuysoft/Mock/wiki/Getting-Started</a></p>
<p><a target="_blank" rel="noopener" href="http://mockjs.com/">mock官网</a></p>
<p><a target="_blank" rel="noopener" href="http://mockjs.com/examples.html">mock示例</a></p>
<h4 id="步骤："><a href="#步骤：" class="headerlink" title="步骤："></a>步骤：</h4><h5 id="1-安装"><a href="#1-安装" class="headerlink" title="1.安装"></a>1.安装</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i vite-plugin-mock mockjs  -D</span><br></pre></td></tr></table></figure>

<p><strong><a target="_blank" rel="noopener" href="https://github.com/vbenjs/vite-plugin-mock">vite-plugin-mock</a></strong></p>
<p><a target="_blank" rel="noopener" href="https://github.com/vbenjs/vite-plugin-mock#usage">使用</a></p>
<h5 id="2-在vite-config-ts中引入"><a href="#2-在vite-config-ts中引入" class="headerlink" title="2.在vite.config.ts中引入"></a>2.在vite.config.ts中引入</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import &#123; viteMockServe &#125; from &#x27;vite-plugin-mock&#x27;</span><br><span class="line"></span><br><span class="line">plugins: [</span><br><span class="line">  vue(),</span><br><span class="line">  viteMockServe(&#123;</span><br><span class="line">    // default</span><br><span class="line">    mockPath: &#x27;mock&#x27;,</span><br><span class="line">  &#125;),</span><br><span class="line">],</span><br></pre></td></tr></table></figure>

<h5 id="3-在项目根目录新建mock目录-mock-index-ts："><a href="#3-在项目根目录新建mock目录-mock-index-ts：" class="headerlink" title="3.在项目根目录新建mock目录-mock/index.ts："></a>3.在项目根目录新建mock目录-mock/index.ts：</h5><p><a target="_blank" rel="noopener" href="https://github.com/vbenjs/vite-plugin-mock#mock-file-example">示例</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">// test.ts</span><br><span class="line">import &#123; MockMethod &#125; from &#x27;vite-plugin-mock&#x27;</span><br><span class="line">export default [</span><br><span class="line">  &#123;</span><br><span class="line">    url: &#x27;/api/get&#x27;,</span><br><span class="line">    method: &#x27;get&#x27;,</span><br><span class="line">    response: (&#123; query &#125;) =&gt; &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        code: 0,</span><br><span class="line">        data: &#123;</span><br><span class="line">          name: &#x27;vben&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    url: &#x27;/api/post&#x27;,</span><br><span class="line">    method: &#x27;post&#x27;,</span><br><span class="line">    timeout: 2000,</span><br><span class="line">    response: &#123;</span><br><span class="line">      code: 0,</span><br><span class="line">      data: &#123;</span><br><span class="line">        name: &#x27;vben&#x27;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    url: &#x27;/api/text&#x27;,</span><br><span class="line">    method: &#x27;post&#x27;,</span><br><span class="line">    rawResponse: async (req, res) =&gt; &#123;</span><br><span class="line">      let reqbody = &#x27;&#x27;</span><br><span class="line">      await new Promise((resolve) =&gt; &#123;</span><br><span class="line">        req.on(&#x27;data&#x27;, (chunk) =&gt; &#123;</span><br><span class="line">          reqbody += chunk</span><br><span class="line">        &#125;)</span><br><span class="line">        req.on(&#x27;end&#x27;, () =&gt; resolve(undefined))</span><br><span class="line">      &#125;)</span><br><span class="line">      res.setHeader(&#x27;Content-Type&#x27;, &#x27;text/plain&#x27;)</span><br><span class="line">      res.statusCode = 200</span><br><span class="line">      res.end(`hello, $&#123;reqbody&#125;`)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">] as MockMethod[]</span><br></pre></td></tr></table></figure>

<h5 id="4-安装axios"><a href="#4-安装axios" class="headerlink" title="4.安装axios"></a>4.安装axios</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i axios</span><br></pre></td></tr></table></figure>

<h5 id="5-使用"><a href="#5-使用" class="headerlink" title="5.使用"></a>5.使用</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import axios from &#x27;axios&#x27;</span><br><span class="line"></span><br><span class="line">async function fn() &#123;</span><br><span class="line">  const &#123; data &#125; = await axios.get(&#x27;/api/get&#x27;)</span><br><span class="line">  console.log(data);</span><br><span class="line">&#125;</span><br><span class="line">fn()</span><br></pre></td></tr></table></figure>

<h5 id="6-使用mock来模拟更多数据"><a href="#6-使用mock来模拟更多数据" class="headerlink" title="6.使用mock来模拟更多数据"></a>6.使用mock来模拟更多数据</h5><h5 id="7-将mock模拟的数据放到接口返回中"><a href="#7-将mock模拟的数据放到接口返回中" class="headerlink" title="7.将mock模拟的数据放到接口返回中"></a>7.将mock模拟的数据放到接口返回中</h5><p>mock/index.ts：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">// test.ts</span><br><span class="line">import &#123; MockMethod &#125; from &#x27;vite-plugin-mock&#x27;</span><br><span class="line">import Mock from &#x27;mockjs&#x27;</span><br><span class="line">var list = Mock.mock(&#123;</span><br><span class="line">  // 20条数据</span><br><span class="line">  &quot;data|20&quot;: [&#123;</span><br><span class="line">    // 商品种类</span><br><span class="line">    &quot;goodsClass&quot;: &quot;女装&quot;,</span><br><span class="line">    // 商品Id</span><br><span class="line">    &quot;goodsId|+1&quot;: 1,</span><br><span class="line">    //商品名称</span><br><span class="line">    &quot;goodsName&quot;: &quot;@ctitle(10)&quot;,</span><br><span class="line">    //商品地址</span><br><span class="line">    &quot;goodsAddress&quot;: &quot;@county(true)&quot;,</span><br><span class="line">    //商品等级评价★</span><br><span class="line">    &quot;goodsStar|1-5&quot;: &quot;★&quot;,</span><br><span class="line">    //商品图片</span><br><span class="line">    &quot;goodsImg&quot;: &quot;@Image(&#x27;100x100&#x27;,&#x27;@color&#x27;,&#x27;小甜甜&#x27;)&quot;,</span><br><span class="line">    //商品售价</span><br><span class="line">    &quot;goodsSale|30-500&quot;: 30</span><br><span class="line"></span><br><span class="line">  &#125;]</span><br><span class="line">&#125;)</span><br><span class="line">export default [</span><br><span class="line">  &#123;</span><br><span class="line">    url: &#x27;/api/get&#x27;,</span><br><span class="line">    method: &#x27;get&#x27;,</span><br><span class="line">    response: (&#123; query &#125;) =&gt; &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        code: 0,</span><br><span class="line">        data: list</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">] as MockMethod[]</span><br></pre></td></tr></table></figure>

<p>使用示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import Mock from &#x27;mockjs&#x27;</span><br><span class="line"></span><br><span class="line">// 定义数据类型</span><br><span class="line">var data = Mock.mock(&#123;</span><br><span class="line">  // 20条数据</span><br><span class="line">  &quot;data|20&quot;: [&#123;</span><br><span class="line">    // 商品种类</span><br><span class="line">    &quot;goodsClass&quot;: &quot;女装&quot;,</span><br><span class="line">    // 商品Id</span><br><span class="line">    &quot;goodsId|+1&quot;: 1,</span><br><span class="line">    //商品名称</span><br><span class="line">    &quot;goodsName&quot;: &quot;@ctitle(10)&quot;,</span><br><span class="line">    //商品地址</span><br><span class="line">    &quot;goodsAddress&quot;: &quot;@county(true)&quot;,</span><br><span class="line">    //商品等级评价★</span><br><span class="line">    &quot;goodsStar|1-5&quot;: &quot;★&quot;,</span><br><span class="line">    //商品图片</span><br><span class="line">    &quot;goodsImg&quot;: &quot;@Image(&#x27;100x100&#x27;,&#x27;@color&#x27;,&#x27;小甜甜&#x27;)&quot;,</span><br><span class="line">    //商品售价</span><br><span class="line">    &quot;goodsSale|30-500&quot;: 30</span><br><span class="line"></span><br><span class="line">  &#125;]</span><br><span class="line">&#125;)</span><br><span class="line">// 输出结果随机生成的数据（node index.js）</span><br><span class="line"> console.log(data);</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/d8ca41e9bce4">vue项目，svn提交代码时忽略node_modules文件夹提交</a></p>
<h5 id="8-将数据和接口方法分开"><a href="#8-将数据和接口方法分开" class="headerlink" title="8.将数据和接口方法分开"></a>8.将数据和接口方法分开</h5><p>mock/data.ts：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import Mock from &#x27;mockjs&#x27;</span><br><span class="line"></span><br><span class="line">// mock的数据</span><br><span class="line">// 金额列表</span><br><span class="line">export const amountList = Mock.mock(&#123;</span><br><span class="line">    // 20条数据</span><br><span class="line">    &quot;amountList&quot;: [&#123;</span><br><span class="line">      &quot;amount&quot;: 2,</span><br><span class="line">      &quot;amountId&quot;: 0,</span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>mock/index.ts：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import &#123; MockMethod &#125; from &#x27;vite-plugin-mock&#x27;</span><br><span class="line">import &#123; amountList &#125; from &#x27;./data.js&#x27;</span><br><span class="line"></span><br><span class="line">export default [</span><br><span class="line">    &#123;</span><br><span class="line">      url: &#x27;/api/getAmountList&#x27;,</span><br><span class="line">      method: &#x27;get&#x27;,</span><br><span class="line">      response: (&#123; query &#125;) =&gt; &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">          code: 0,</span><br><span class="line">          data: amountList,</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">] as MockMethod[]</span><br></pre></td></tr></table></figure>

<h4 id="reactive的做法"><a href="#reactive的做法" class="headerlink" title="reactive的做法"></a>reactive的做法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// reactive的做法</span><br><span class="line">import &#123; reactive, toRefs &#125; from &#x27;vue&#x27;;</span><br><span class="line">const userinfo = reactive(&#123;</span><br><span class="line">    name: &#x27;&#x27;,</span><br><span class="line">    level: 0,</span><br><span class="line">    server_area: &#x27;&#x27;</span><br><span class="line">&#125;)</span><br><span class="line">const &#123;name, level, server_area&#125; = toRefs(userinfo)</span><br><span class="line">axios.get(&#x27;/api/getUserInfo&#x27;).then(res =&gt; &#123;</span><br><span class="line">    const &#123; name, level, server_area &#125; =  res.data.data.userInfo</span><br><span class="line">    userinfo.name = name;</span><br><span class="line">    userinfo.level = level;</span><br><span class="line">    userinfo.server_area = server_area;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="ref的做法"><a href="#ref的做法" class="headerlink" title="ref的做法"></a>ref的做法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;;</span><br><span class="line">// ref的做法</span><br><span class="line">const name = ref(&#x27;&#x27;);</span><br><span class="line">const server_area = ref(&#x27;&#x27;);</span><br><span class="line">const level = ref(0)</span><br><span class="line">axios.get(&#x27;/api/getUserInfo&#x27;).then(res =&gt; &#123;</span><br><span class="line">    const userinfo = res.data.data.userInfo;</span><br><span class="line">    name.value = userinfo.name;</span><br><span class="line">    level.value = userinfo.level;</span><br><span class="line">    server_area.value = userinfo.server_area;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="枚举的使用-enum"><a href="#枚举的使用-enum" class="headerlink" title="枚举的使用-enum"></a>枚举的使用-enum</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 枚举</span><br><span class="line">enum HbType &#123;</span><br><span class="line">    &#x27;等级红包&#x27; = 1,</span><br><span class="line">    &#x27;充值红包&#x27; ,</span><br><span class="line">    &#x27;高级红包&#x27; ,</span><br><span class="line">&#125;</span><br><span class="line">enum HbIcon &#123;</span><br><span class="line">    &#x27;src/assets/images/hb_level.png&#x27; = 1,</span><br><span class="line">    &#x27;src/assets/images/hb_charge.png&#x27; ,</span><br><span class="line">    &#x27;src/assets/images/hb_senior.png&#x27; ,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="数据"><a href="#数据" class="headerlink" title="数据"></a>数据</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// 红包数据</span><br><span class="line">// type:1 --等级红包</span><br><span class="line">// type:2 --充值红包</span><br><span class="line">// type:3 --高级红包</span><br><span class="line">export const hbData = Mock.mock(&#123;</span><br><span class="line">    hbData: &#123;</span><br><span class="line">        total: 300.00,</span><br><span class="line">        list: [&#123;</span><br><span class="line">            id: 10001,</span><br><span class="line">            type: 1,</span><br><span class="line">            amount: 50,</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">            id: 10001,</span><br><span class="line">            type: 2,</span><br><span class="line">            amount: 100,</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">            id: 10001,</span><br><span class="line">            type: 3,</span><br><span class="line">            amount: 150,</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="页面"><a href="#页面" class="headerlink" title="页面"></a>页面</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import axios from &#x27;axios&#x27;;</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">const hbList = ref([]);</span><br><span class="line">axios.get(&#x27;/api/getHbData&#x27;).then(res =&gt; &#123;</span><br><span class="line">    hbList.value.push(...res.data.data.hbData.list);</span><br><span class="line">    console.log(hbList)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// 结构</span><br><span class="line">&lt;van-cell </span><br><span class="line">    class=&quot;withdraw-li&quot;</span><br><span class="line">    :title=&quot;&#x27;+ &#x27; + i.amount +&#x27;元&#x27;&quot;</span><br><span class="line">    :label=&quot;HbType[i.type]&quot;</span><br><span class="line">    center </span><br><span class="line">    v-for=&quot;i in hbList&quot;</span><br><span class="line">    :key=&quot;i.id&quot;</span><br><span class="line">&gt;  </span><br><span class="line">    &lt;template #icon&gt;</span><br><span class="line">        &lt;img :src=&quot;HbIcon[i.type]&quot; class=&quot;red-packet&quot; alt=&quot;&quot;&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;template #value&gt;</span><br><span class="line">        &lt;router-link to=&quot;/withdraw&quot;&gt;提现 &amp;gt;&lt;/router-link&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">&lt;/van-cell&gt;</span><br></pre></td></tr></table></figure>



<h4 id="解决报错信息"><a href="#解决报错信息" class="headerlink" title="解决报错信息"></a>解决报错信息</h4><p>控制台报以下警告信息：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Added non-passive event listener to a scroll-blocking ‘touchstart‘ event. Consider marking event...</span><br></pre></td></tr></table></figure>

<p>解决：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 安装插件</span><br><span class="line">npm install -S default-passive-events</span><br><span class="line">// 在main.js引入</span><br><span class="line">import &#x27;default-passive-events&#x27;</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/yjl13598765406/article/details/125496865">参考</a></p>
<h4 id="打包报错"><a href="#打包报错" class="headerlink" title="打包报错"></a>打包报错</h4><p><code>注意： 写v-for循环时，要对循环的列表进行判断，以免数据还没有返回就进行渲染，获取不到值</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;content&quot; v-if=&quot;list.length &gt; 0&quot;&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p><code>Property &#39;id&#39; does not exist on type &#39;never&#39;.</code></p>
<p>解决：加上类型限制</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">interface List &#123;</span><br><span class="line">   amount: number;</span><br><span class="line">   date: string</span><br><span class="line">   id: number</span><br><span class="line">   type: number</span><br><span class="line">&#125;</span><br><span class="line">const list = ref&lt;List[]&gt;([])</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/39/">39</a><a class="extend next" rel="next" href="/page/8/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="site-author-image" itemprop="image" alt="winney"
      src="/images/header.jpg">
  <p class="site-author-name" itemprop="name">winney</p>
  <div class="site-description" itemprop="description">Doing is better than saying.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">115</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">56</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">52</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      友情链接
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://www.xiaochao.me/" title="https:&#x2F;&#x2F;www.xiaochao.me&#x2F;" rel="noopener" target="_blank">小超</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://blog.csdn.net/winney07" title="https:&#x2F;&#x2F;blog.csdn.net&#x2F;winney07" rel="noopener" target="_blank">CSDN</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2015 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">winney07</span>
</div>
  <div class="powered-by"><a href="https://beian.miit.gov.cn/" target="_blank">粤ICP备2022033775号-1</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
