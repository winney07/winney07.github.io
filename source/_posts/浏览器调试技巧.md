---
title: 浏览器调试技巧
date: 2020-09-15 11:02:02
tags:
- JavaScript
categories: 
- JavaScript
---
## 判断数组中的某对象某属性是否等于某值

> 如果不等于就向数组追加新对象

```
// records是对象数组
if (!records.some(obj => obj.username === value.username)) {
    records.push(value);
}
```

## 过滤掉数组中满足条件的某个对象

```
records = records.filter(obj => obj.username !== value.username);
```

#### 使用场景

在用户登录界面，显示用户历史登录账号记录列表（平台可用多个账号），便于用户快速登录。在注册页面，进行记录：

需要缓存的数据格式：

```
var records = [
    { username: "ceshi1234", password: "123456" },
    { username: "ceshi000", password: "123456" },
    { username: "ceshi33", password: "123456" },
    { username: "ceshi21", password: "123456" },
    { username: "ceshi22", password: "123456" }
];
```

```
const common ={
	getStorage: (key) => {  
        var data = localStorage.getItem(key);
        try {
            return JSON.parse(data);
        } catch (err) {
            return data;
        }
    },
    setLoginRecordStorage: function(key, value){
        // 获取当前用户登录记录
        let records = common.getStorage(key) || [];

        if(records.length === 0) {  // 未缓存过的记录
            records.push(value);
        } else{
            // 判断当前账号是否已缓存过
            if (!records.some(obj => obj.username === value.username)) {
                // 未缓存过该账号
                records.unshift(value);
            } else{
                // 已缓存过账号-先删除-再追加到最新
                records = records.filter(obj => obj.username !== value.username);
                // 倒序，最后登录的在最前面
                records.unshift(value);    
            }   
        }

        common.setStorage(key, records);
    }
}
```

## 根据某个属性进行排序
