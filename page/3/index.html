<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Doing is better than saying.">
<meta property="og:type" content="website">
<meta property="og:title" content="winney">
<meta property="og:url" content="http://example.com/page/3/index.html">
<meta property="og:site_name" content="winney">
<meta property="og:description" content="Doing is better than saying.">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="winney">
<meta property="article:tag" content="winneyBlog   博客">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>winney</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">winney</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">It is never too old to learn.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <img alt="winney" src="/images/blog-head.jpg">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/08/01/vue3-vite-%E7%96%AB%E6%83%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="winney">
      <meta itemprop="description" content="Doing is better than saying.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="winney">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/08/01/vue3-vite-%E7%96%AB%E6%83%85/" class="post-title-link" itemprop="url">vue3-vite-疫情</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-08-01 10:59:14" itemprop="dateCreated datePublished" datetime="2022-08-01T10:59:14+08:00">2022-08-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-08-24 18:09:23" itemprop="dateModified" datetime="2022-08-24T18:09:23+08:00">2022-08-24</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><code>备注：</code> 对应项目vue3-vite-yiqing  【移动端——展示疫情实时数】</p>
<p><a target="_blank" rel="noopener" href="https://vitejs.dev/guide/#scaffolding-your-first-vite-project">Vite官网</a></p>
<p>优点：使用vite创建的项目，运行比webpack创建的要快</p>
<h4 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm create vite@latest</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">√ Project name: ... vue3-vite-yiqing</span><br><span class="line">√ Select a framework: » vue</span><br><span class="line">√ Select a variant: » vue-ts</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd vue3-vite-yiqing</span><br><span class="line">npm install</span><br><span class="line">npm run dev</span><br></pre></td></tr></table></figure>

<p>VSCode中安装Vetur插件</p>
<h4 id="安装less"><a href="#安装less" class="headerlink" title="安装less"></a>安装less</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm i less less-loader -D</span><br></pre></td></tr></table></figure>

<h4 id="在main-ts中引入reset-less"><a href="#在main-ts中引入reset-less" class="headerlink" title="在main.ts中引入reset.less"></a>在main.ts中引入reset.less</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#x27;./assets/css/reset.less&#x27;</span><br></pre></td></tr></table></figure>

<h4 id="reset-less"><a href="#reset-less" class="headerlink" title="reset.less"></a>reset.less</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">/* http://meyerweb.com/eric/tools/css/reset/ </span><br><span class="line">   v2.0 | 20110126</span><br><span class="line">   License: none (public domain)</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">html, body, div, span, applet, object, iframe,</span><br><span class="line">h1, h2, h3, h4, h5, h6, p, blockquote, pre,</span><br><span class="line">a, abbr, acronym, address, big, cite, code,</span><br><span class="line">del, dfn, em, img, ins, kbd, q, s, samp,</span><br><span class="line">small, strike, strong, sub, sup, tt, var,</span><br><span class="line">b, u, i, center,</span><br><span class="line">dl, dt, dd, ol, ul, li,</span><br><span class="line">fieldset, form, label, legend,</span><br><span class="line">table, caption, tbody, tfoot, thead, tr, th, td,</span><br><span class="line">article, aside, canvas, details, embed, </span><br><span class="line">figure, figcaption, footer, header, hgroup, </span><br><span class="line">menu, nav, output, ruby, section, summary,</span><br><span class="line">time, mark, audio, video &#123;</span><br><span class="line">	margin: 0;</span><br><span class="line">	padding: 0;</span><br><span class="line">	border: 0;</span><br><span class="line">	// font-size: 100%;</span><br><span class="line">	// font: inherit;</span><br><span class="line">	vertical-align: baseline;</span><br><span class="line">&#125;</span><br><span class="line">/* HTML5 display-role reset for older browsers */</span><br><span class="line">article, aside, details, figcaption, figure, </span><br><span class="line">footer, header, hgroup, menu, nav, section &#123;</span><br><span class="line">	display: block;</span><br><span class="line">&#125;</span><br><span class="line">body &#123;</span><br><span class="line">	line-height: 1;</span><br><span class="line">&#125;</span><br><span class="line">ol, ul &#123;</span><br><span class="line">	list-style: none;</span><br><span class="line">&#125;</span><br><span class="line">blockquote, q &#123;</span><br><span class="line">	quotes: none;</span><br><span class="line">&#125;</span><br><span class="line">blockquote:before, blockquote:after,</span><br><span class="line">q:before, q:after &#123;</span><br><span class="line">	content: &#x27;&#x27;;</span><br><span class="line">	content: none;</span><br><span class="line">&#125;</span><br><span class="line">table &#123;</span><br><span class="line">	border-collapse: collapse;</span><br><span class="line">	border-spacing: 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="设置根节点font-size值，使用rem适配"><a href="#设置根节点font-size值，使用rem适配" class="headerlink" title="设置根节点font-size值，使用rem适配"></a>设置根节点font-size值，使用rem适配</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:root&#123;</span><br><span class="line"> font-size: 0.13333333vw;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>这样设置之后1px = 1rem</p>
</blockquote>
<h4 id="垂直居中"><a href="#垂直居中" class="headerlink" title="垂直居中"></a>垂直居中</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">body &#123;</span><br><span class="line">  margin: 0;</span><br><span class="line">  display: flex;</span><br><span class="line">  place-items: center;</span><br><span class="line">  min-width: 320px;</span><br><span class="line">  min-height: 100vh;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="配置手机可访问本地电脑项目"><a href="#配置手机可访问本地电脑项目" class="headerlink" title="配置手机可访问本地电脑项目"></a>配置手机可访问本地电脑项目</h4><p><a target="_blank" rel="noopener" href="http://www.manongjc.com/detail/29-saiyfskdbsqqcmz.html">Vite 使用本地ip+localhost访问服务</a></p>
<p>使用vite新建的项目默认访问链接：<a target="_blank" rel="noopener" href="http://127.0.0.1:5173/">http://127.0.0.1:5173/</a></p>
<ol>
<li><p>修改<code>vite.config.js</code>文件，添加<code>server</code>配置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">server: &#123;</span><br><span class="line">    host: &#x27;0.0.0.0&#x27;,</span><br><span class="line">    port: 8888,</span><br><span class="line">    open: true</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">export default defineConfig(&#123;</span><br><span class="line">  plugins: [vue()],</span><br><span class="line">  base:&#x27;./&#x27;,    // 处理打包后放正式环境的相对路径的问题</span><br><span class="line">  server: &#123;		// 处理使用本地ip访问页面</span><br><span class="line">    host: &#x27;0.0.0.0&#x27;,</span><br><span class="line">    port: 8888,</span><br><span class="line">    open: true</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>若使用手机访问本地ip页面，访问不成功（显示“服务器已停用”）。即要将本地电脑的防火墙“关闭”即可。<a target="_blank" rel="noopener" href="https://blog.csdn.net/zoepriselife316/article/details/117957732">手机和电脑连接同一wifi,手机访问不了电脑起的项目</a></p>
<p>电脑的“设置”——“网络和共享中心”——“Windows Defender 防火墙”（左下角）——“启用或关闭Windows Defender 防火墙”（左侧）——选择“关闭”（专用网络和公用网络都关闭）</p>
<p>注意：使用完，最好重新“启用”防火墙。</p>
</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/dd26cae7d7b2">vite.config.js之resolve.alias配置</a></p>
<h4 id="axios请求数据"><a href="#axios请求数据" class="headerlink" title="axios请求数据"></a>axios请求数据</h4><p>vue3中在onMounted生命周期中发出请求</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm i axios</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import axios from &#x27;axios&#x27;;</span><br><span class="line">import &#123; onMounted &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">onMounted(() =&gt; &#123;</span><br><span class="line">    console.log(&#x27;onMounted&#x27;)</span><br><span class="line">    axios(&#x27;https://c.m.163.com/api/ug/api/wuhan/app/data/list-total?t=330415245809&#x27;)</span><br><span class="line">    .then(res =&gt; &#123;</span><br><span class="line">        console.log(res);</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="跨域请求处理"><a href="#跨域请求处理" class="headerlink" title="跨域请求处理"></a>跨域请求处理</h4><p>修改<code>vite.config.ts</code>文件，添加以下代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">server: &#123;</span><br><span class="line">    // hmr: true,  // 开启热更新</span><br><span class="line">   proxy: &#123;</span><br><span class="line">      &#x27;/api&#x27;: &#123;</span><br><span class="line">        target: &#x27;https://c.m.163.com&#x27;,</span><br><span class="line">        changeOrigin: true,</span><br><span class="line">        rewrite: (path) =&gt; path.replace(/^\/api/, &#x27;&#x27;)</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>vite.config.ts</code>修改后</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">import &#123; defineConfig &#125; from &#x27;vite&#x27;</span><br><span class="line">import vue from &#x27;@vitejs/plugin-vue&#x27;</span><br><span class="line"></span><br><span class="line">// https://vitejs.dev/config/</span><br><span class="line">export default defineConfig(&#123;</span><br><span class="line">  plugins: [vue()],</span><br><span class="line">  base:&#x27;./&#x27;,    // 处理打包后放正式环境的相对路径的问题</span><br><span class="line">  server: &#123;</span><br><span class="line">    host: &#x27;0.0.0.0&#x27;,</span><br><span class="line">    port: 8888,</span><br><span class="line">    open: true,</span><br><span class="line">    proxy: &#123;</span><br><span class="line">      &#x27;/api&#x27;: &#123;</span><br><span class="line">        target: &#x27;https://c.m.163.com&#x27;,</span><br><span class="line">        changeOrigin: true,</span><br><span class="line">        rewrite: (path) =&gt; path.replace(/^\/api/, &#x27;&#x27;)</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>注意：修改配置文件后，要重启项目。(在vite搭建的项目，不需要重启)</p>
<h5 id="修改请求链接"><a href="#修改请求链接" class="headerlink" title="修改请求链接"></a>修改请求链接</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">axios(&#x27;/api/ug/api/wuhan/app/data/list-total?t=330415245809&#x27;)</span><br><span class="line">.then(res =&gt; &#123;</span><br><span class="line">    console.log(res);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h4 id="对接口获取到的数据对象使用TS进行数据类型约束"><a href="#对接口获取到的数据对象使用TS进行数据类型约束" class="headerlink" title="对接口获取到的数据对象使用TS进行数据类型约束"></a>对接口获取到的数据对象使用TS进行数据类型约束</h4><ol>
<li><p>使用泛型</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">interface IData&#123;</span><br><span class="line">	name: string;</span><br><span class="line">	type: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const data = reactive&lt;IData&gt;&#123;</span><br><span class="line">	name: &#x27;winney&#x27;,</span><br><span class="line">	type: 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>企业级开发模式常用</p>
</li>
</ol>
<h4 id="接口返回字段："><a href="#接口返回字段：" class="headerlink" title="接口返回字段："></a>接口返回字段：</h4><ul>
<li>input:境外输入</li>
<li>noSymptom:无症状感染者</li>
<li>incrNoSymptom:新增</li>
<li>confirm:确诊</li>
<li>dead:死亡</li>
<li>heal:治愈</li>
<li>现有确诊数=累计确诊数-累计死亡数-累计治愈数</li>
<li>confirm-dead-heal</li>
</ul>
<p>总数：total</p>
<p>较昨日：today</p>
<h2 id="JS的实现"><a href="#JS的实现" class="headerlink" title="JS的实现"></a>JS的实现</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">const data = reactive(&#123;</span><br><span class="line">    name: &quot;winney&quot;,</span><br><span class="line">    areaTree: [],</span><br><span class="line">    chinaDayList: [],</span><br><span class="line">    chinaTotal: &#123;&#125;,</span><br><span class="line">    china: [],</span><br><span class="line">    hbData: &#123;&#125;,</span><br><span class="line">    type: 1,</span><br><span class="line">    mapType: 1,</span><br><span class="line">    lineType: 1,</span><br><span class="line">    lastUpdateTime:&quot;&quot;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">onMounted(() =&gt; &#123;</span><br><span class="line">    axios(&#x27;/api/ug/api/wuhan/app/data/list-total?t=330415245809&#x27;)</span><br><span class="line">    .then(res =&gt; &#123;</span><br><span class="line">        const resData = res.data.data;</span><br><span class="line">        data.areaTree = resData.areaTree;</span><br><span class="line">        data.chinaDayList = resData.chinaDayList;</span><br><span class="line">        data.chinaTotal = resData.chinaTotal;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>为了避免使用数据时，每次都写<code>data.</code> , 对数据进行解构</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const &#123; chinaTotal &#125; = toRefs(data);</span><br></pre></td></tr></table></figure>

<p>使用：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt; &lt;strong class=&quot;red&quot;&gt;&#123;&#123;chinaTotal.total.input&#125;&#125;&lt;/strong&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure>

<p>直接使用会报错：</p>
<p>原因，异步请求是在组件onMounted之后的。 在第一次渲染的时候，当时还没有chinaTotal的数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul class=&quot;tab-content&quot; v-if=&quot;chinaTotal.total&quot;&gt;</span><br></pre></td></tr></table></figure>



<h4 id="Tab切换模块的功能"><a href="#Tab切换模块的功能" class="headerlink" title="Tab切换模块的功能"></a>Tab切换模块的功能</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 获取中国的数据</span><br><span class="line">data.china = data.areaTree.find((v) =&gt; v.id===&quot;0&quot;).children;</span><br><span class="line">// 获取湖北的数据</span><br><span class="line">data.hbData = data.china.find((v) =&gt; v.id === &quot;420000&quot;)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const &#123; chinaTotal, hbData &#125; = toRefs(data);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> &lt;div class=&quot;tab-box&quot; v-if=&quot;chinaTotal.total&quot;&gt;  // 判断放在父盒子，做一次判断</span><br><span class="line"> 	</span><br><span class="line"> 	 &lt;!-- 全国疫情数据 --&gt;</span><br><span class="line"> 	 &lt;ul class=&quot;tab-content&quot; v-show=&quot;type=== 1&quot;&gt;</span><br><span class="line"> 	  &lt;!-- 湖北的数据 --&gt;</span><br><span class="line"> 	  &lt;ul class=&quot;tab-content&quot; v-show=&quot;type=== 2&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h4 id="tab切换事件"><a href="#tab切换事件" class="headerlink" title="tab切换事件"></a>tab切换事件</h4><p>动态绑定class的方法 <code>:class=&quot;&#123;active: type === 1&#125;&quot;</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;tab-btn&quot; @click=&quot;tabChange(1)&quot; :class=&quot;&#123;active: type === 1&#125;&quot;&gt;全国疫情数据(含港澳台)&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;tab-btn&quot; @click=&quot;tabChange(2)&quot; :class=&quot;&#123;active: type === 2&#125;&quot;&gt;湖北疫情数据&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const tabChange = (type: number) =&gt; &#123;</span><br><span class="line">    data.type = type</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="TS的实现"><a href="#TS的实现" class="headerlink" title="TS的实现"></a>TS的实现</h2><p>不把跟业务无关的代码写在vue文件中</p>
<p>在src目录中新建一个type目录，存放所有的type</p>
<h4 id="1-src-type-index-ts"><a href="#1-src-type-index-ts" class="headerlink" title="1. src/type/index.ts"></a>1. <code>src/type/index.ts</code></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">interface IData&#123;</span><br><span class="line">    name: string;</span><br><span class="line">    type: number;</span><br><span class="line">&#125;</span><br><span class="line">// 导出的时候要使用type,而不是普通对象</span><br><span class="line">export type&#123;</span><br><span class="line">    IData</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>页面中使用：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import type &#123; IData &#125; from &quot;../../type/index&quot;</span><br></pre></td></tr></table></figure>

<p>在src中新建pageJs目录，用于存放所有页面的逻辑js</p>
<h4 id="1-pageJs-index-ts"><a href="#1-pageJs-index-ts" class="headerlink" title="1. pageJs/index.ts"></a>1. <code>pageJs/index.ts</code></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import type &#123; IData &#125; from &quot;../type/index&quot;</span><br></pre></td></tr></table></figure>



<h4 id="2-src-type-index-ts"><a href="#2-src-type-index-ts" class="headerlink" title="2. src/type/index.ts"></a>2. <code>src/type/index.ts</code></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">interface IData&#123;</span><br><span class="line">    name: string,</span><br><span class="line">    areaTree: any[],</span><br><span class="line">    chinaDayList: any[],</span><br><span class="line">    chinaTotal: any[],</span><br><span class="line">    china: any[],  // 中国的数据</span><br><span class="line">    hbData: Object, // 湖北的数据</span><br><span class="line">    type: number,</span><br><span class="line">    mapType: number,</span><br><span class="line">    lineType: number,</span><br><span class="line">    lastUpdateTime:string</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export type&#123;</span><br><span class="line">    IData</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>VSCode中TS实现接口的快捷方式：</p>
<p><img src="https://raw.githubusercontent.com/winney07/Images/main/winney07.github.io/vue3-vite-%E7%96%AB%E6%83%85/Snipaste_2022-08-01_16-49-24.png" alt="VSCode中ts实现接口"></p>
<p><img src="https://raw.githubusercontent.com/winney07/Images/main/winney07.github.io/vue3-vite-%E7%96%AB%E6%83%85/Snipaste_2022-08-01_16-50-16.png" alt="VScode中ts接口实现"></p>
<h4 id="2-pageJs-index-ts"><a href="#2-pageJs-index-ts" class="headerlink" title="2. pageJs/index.ts"></a>2. <code>pageJs/index.ts</code></h4><p>优点：可重复使用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">import type &#123; IData &#125; from &quot;../type/index&quot;</span><br><span class="line"></span><br><span class="line">class InteData implements IData &#123;</span><br><span class="line">    name: string =&quot;&quot;</span><br><span class="line">    areaTree: any[] = []</span><br><span class="line">    chinaDayList: any[] = []</span><br><span class="line">    chinaTotal: any[] = []</span><br><span class="line">    china: any[]= []</span><br><span class="line">    hbData: Object = &#123;&#125;</span><br><span class="line">    type: number = 1</span><br><span class="line">    mapType: number = 1</span><br><span class="line">    lineType: number = 1</span><br><span class="line">    lastUpdateTime: string =&quot;&quot;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export &#123;</span><br><span class="line">    InteData</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-页面中使用"><a href="#3-页面中使用" class="headerlink" title="3.页面中使用"></a>3.页面中使用</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import &#123; InteData &#125; from &#x27;../../pageJs/index&#x27;</span><br><span class="line"> </span><br><span class="line">const data = reactive(new InteData())</span><br></pre></td></tr></table></figure>

<h4 id="4-请求数据方法封装"><a href="#4-请求数据方法封装" class="headerlink" title="4.请求数据方法封装"></a>4.请求数据方法封装</h4><p>注：setup函数中是不支持异步的</p>
<h5 id="4-1-pageJs-index-ts"><a href="#4-1-pageJs-index-ts" class="headerlink" title="4.1  pageJs/index.ts"></a>4.1  <code>pageJs/index.ts</code></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">import axios from &#x27;axios&#x27;;</span><br><span class="line">import type &#123; IData &#125; from &quot;../type/index&quot;</span><br><span class="line"></span><br><span class="line">class InteData implements IData &#123;</span><br><span class="line">    name: string =&quot;&quot;</span><br><span class="line">    areaTree: any[] = []</span><br><span class="line">    chinaDayList: any[] = []</span><br><span class="line">    chinaTotal: any[] = []</span><br><span class="line">    china: any[]= []</span><br><span class="line">    hbData: Object = &#123;&#125;</span><br><span class="line">    type: number = 1</span><br><span class="line">    mapType: number = 1</span><br><span class="line">    lineType: number = 1</span><br><span class="line">    lastUpdateTime: string =&quot;&quot;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const initDataFun = (data:InteData) =&gt; &#123;</span><br><span class="line">    axios(&#x27;/api/ug/api/wuhan/app/data/list-total?t=330415245809&#x27;)</span><br><span class="line">    .then(res =&gt; &#123;</span><br><span class="line">        const resData = res.data.data;</span><br><span class="line">        data.areaTree = resData.areaTree;</span><br><span class="line">        data.chinaDayList = resData.chinaDayList;</span><br><span class="line">        data.chinaTotal = resData.chinaTotal;</span><br><span class="line"></span><br><span class="line">        // 获取中国的数据</span><br><span class="line">        data.china = data.areaTree.find((v) =&gt; v.id===&quot;0&quot;).children;</span><br><span class="line">        // 获取湖北的数据</span><br><span class="line">        data.hbData = data.china.find((v) =&gt; v.id === &quot;420000&quot;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export &#123;</span><br><span class="line">    InteData,</span><br><span class="line">    initDataFun</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="4-2-页面中使用"><a href="#4-2-页面中使用" class="headerlink" title="4.2 页面中使用"></a>4.2 页面中使用</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import &#123; InteData, initDataFun &#125; from &#x27;../../pageJs/index&#x27;</span><br><span class="line"></span><br><span class="line">onMounted(() =&gt; &#123;</span><br><span class="line">    initDataFun(data)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h2 id="Echarts的使用"><a href="#Echarts的使用" class="headerlink" title="Echarts的使用"></a><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/index.html">Echarts</a>的使用</h2><p><a target="_blank" rel="noopener" href="https://echarts.apache.org/examples/zh/editor.html?c=map-HK">地图图表</a></p>
<p><a target="_blank" rel="noopener" href="https://echarts.apache.org/handbook/zh/basics/import">在项目中引入 Apache ECharts</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm i echarts --save</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 地图 --&gt;</span><br><span class="line">&lt;div class=&quot;map-box&quot;&gt;</span><br><span class="line">    &lt;div </span><br><span class="line">        :class=&quot;mapType === 1 ? &#x27;to-left&#x27; : &#x27;to-right&#x27;&quot;</span><br><span class="line">        id=&quot;map&quot;</span><br><span class="line">    &gt;&lt;/div&gt;</span><br><span class="line">    &lt;div </span><br><span class="line">        :class=&quot;mapType === 1 ? &#x27;to-left&#x27; : &#x27;to-right&#x27;&quot;</span><br><span class="line">        id=&quot;map2&quot;</span><br><span class="line">    &gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h4 id="2-pageJs-index-ts-1"><a href="#2-pageJs-index-ts-1" class="headerlink" title="2.pageJs/index.ts"></a>2.<code>pageJs/index.ts</code></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">import * as echarts from &#x27;echarts&#x27;;</span><br><span class="line"></span><br><span class="line">type EChartsOption = echarts.EChartsOption;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">const initDataFun = (data:InteData) =&gt; &#123;</span><br><span class="line">    var mapDom = document.getElementById(&#x27;map&#x27;)!;</span><br><span class="line">    var mapDom2 = document.getElementById(&#x27;map2&#x27;)!;</span><br><span class="line"></span><br><span class="line">    var optionMap: EChartsOption = &#123;</span><br><span class="line">        title:&#123;</span><br><span class="line">            subtext: &#x27;单击省份可查看病例数&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        tooltip: &#123; // 提示框</span><br><span class="line">            trigger: &#x27;item&#x27;,</span><br><span class="line">            formatter: &#x27;现有确诊病例&lt;br/&gt;&#123;b&#125;: &#123;c&#125;&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        visualMap:&#123;</span><br><span class="line">            show:false</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    var myMap = echarts.init(mapDom);</span><br><span class="line">    var myMap2 = echarts.init(mapDom2);</span><br><span class="line">    myMap.showLoading();</span><br><span class="line">    myMap2.showLoading();</span><br><span class="line">   ....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>加上自带的loading</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var myMap = echarts.init(mapDom);</span><br><span class="line">var myMap2 = echarts.init(mapDom2);</span><br><span class="line">myMap.showLoading();</span><br><span class="line">myMap2.showLoading();</span><br></pre></td></tr></table></figure>

<h4 id="获取数据"><a href="#获取数据" class="headerlink" title="获取数据"></a>获取数据</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 地图数据</span><br><span class="line">let mapData:any[] = []</span><br><span class="line">data.china.map((v:any) =&gt; &#123;</span><br><span class="line">    mapData.push(&#123;</span><br><span class="line">        name: v.name,</span><br><span class="line">        value: v.total.confirm - v.total.dead - v.total.heal || 0,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="2-1-完整代码"><a href="#2-1-完整代码" class="headerlink" title="2.1.完整代码"></a>2.1.完整代码</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">const initDataFun = (data:InteData) =&gt; &#123;</span><br><span class="line">    var mapDom = document.getElementById(&#x27;map&#x27;)!;</span><br><span class="line">    var mapDom2 = document.getElementById(&#x27;map2&#x27;)!;</span><br><span class="line"></span><br><span class="line">    var optionMap: EChartsOption = &#123;</span><br><span class="line">        title:&#123;</span><br><span class="line">            subtext: &#x27;单击省份可查看病例数&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        tooltip: &#123; // 提示框</span><br><span class="line">            trigger: &#x27;item&#x27;,</span><br><span class="line">            formatter: &#x27;现有确诊病例&lt;br/&gt;&#123;b&#125;: &#123;c&#125;&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        visualMap:&#123;</span><br><span class="line">            show:false</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 将重复的配置抽出来</span><br><span class="line">    var series = &#123;</span><br><span class="line">        type: &quot;map&quot;,</span><br><span class="line">        map: &quot;china&quot;,</span><br><span class="line">        colorBy: &quot;series&quot;,</span><br><span class="line">        zoom: 1.3,</span><br><span class="line">        top: 80,</span><br><span class="line">        label:&#123;</span><br><span class="line">            show: true,</span><br><span class="line">            color: &quot;#333&quot;,</span><br><span class="line">            fontSize: 10,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    var myMap = echarts.init(mapDom);</span><br><span class="line">    var myMap2 = echarts.init(mapDom2);</span><br><span class="line">    myMap.showLoading();</span><br><span class="line">    myMap2.showLoading();</span><br><span class="line"></span><br><span class="line">    axios(&#x27;/api/ug/api/wuhan/app/data/list-total?t=330415245809&#x27;)</span><br><span class="line">    .then(res =&gt; &#123;</span><br><span class="line">        const resData = res.data.data;</span><br><span class="line">        data.areaTree = resData.areaTree;</span><br><span class="line">        data.chinaDayList = resData.chinaDayList;</span><br><span class="line">        data.chinaTotal = resData.chinaTotal;</span><br><span class="line"></span><br><span class="line">        // 获取中国的数据</span><br><span class="line">        data.china = data.areaTree.find((v) =&gt; v.id===&quot;0&quot;).children;</span><br><span class="line">        // 获取湖北的数据</span><br><span class="line">        data.hbData = data.china.find((v) =&gt; v.id === &quot;420000&quot;)</span><br><span class="line"></span><br><span class="line">        // 地图数据</span><br><span class="line">        let mapData:any[] = []</span><br><span class="line">        data.china.map((v:any) =&gt; &#123;</span><br><span class="line">            mapData.push(&#123;</span><br><span class="line">                name: v.name,</span><br><span class="line">                value: v.total.confirm - v.total.dead - v.total.heal || 0,</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        myMap.hideLoading();</span><br><span class="line">        myMap.setOption(&#123;</span><br><span class="line">            ...optionMap, </span><br><span class="line">            series:&#123;</span><br><span class="line">                ...series, </span><br><span class="line">                data: mapData,   // 数据源</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-引入china-json文件"><a href="#3-引入china-json文件" class="headerlink" title="3.引入china.json文件"></a>3.引入china.json文件</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/seeeeeeeeeee/article/details/121495485?utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~aggregatepage~first_rank_ecpm_v1~rank_v31_ecpm-4-121495485-null-null.pc_agg_new_rank&utm_term=china.json%20geojson&spm=1000.2123.3001.4430">【echarts 中国地图】vue实现中国地图，省份居中china.json文件下载</a></p>
<p>在pageJs/index.ts</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import chinaJson from &#x27;../assets/china.json&#x27;;</span><br><span class="line"></span><br><span class="line">echarts.registerMap(&quot;china&quot;, (chinaJson as any))</span><br></pre></td></tr></table></figure>

<h2 id="List组件封装"><a href="#List组件封装" class="headerlink" title="List组件封装"></a>List组件封装</h2><h4 id="子组件List组件："><a href="#子组件List组件：" class="headerlink" title="子组件List组件："></a>子组件List组件：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        数据列表组件</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&#x27;ts&#x27;&gt;</span><br><span class="line">const props = defineProps(&#123;</span><br><span class="line">    list: Array,</span><br><span class="line">    msg: String,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">console.log(props.list)</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&#x27;less&#x27; scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h4 id="重点1：处理初始化会报错问题-判断是否渲染子组件"><a href="#重点1：处理初始化会报错问题-判断是否渲染子组件" class="headerlink" title="重点1：处理初始化会报错问题-判断是否渲染子组件"></a>重点1：处理初始化会报错问题-判断是否渲染子组件</h4><p>子组件的setup会在父组件的onMounted之前执行，所以传参的时候，要进行判断，是否渲染子组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import List from &#x27;../../components/situation/List.vue&#x27;;</span><br><span class="line"></span><br><span class="line">&lt;List v-if=&quot;china.length &gt; 0&quot; :list=&quot;china&quot; :msg=&quot;&#x27;中国疫情&#x27;&quot;/&gt;</span><br></pre></td></tr></table></figure>



<h4 id="动态数据传值"><a href="#动态数据传值" class="headerlink" title="动态数据传值"></a>动态数据传值</h4><p>动态数据，这样写会报错：<code>:msg=&quot;中国疫情&quot;</code></p>
<p>要加上引号：<code>:msg=&quot;&#39;中国疫情&#39;&quot;</code></p>
<h4 id="props里面的数据无需解构，可以直接使用"><a href="#props里面的数据无需解构，可以直接使用" class="headerlink" title="props里面的数据无需解构，可以直接使用"></a>props里面的数据无需解构，可以直接使用</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const props = defineProps(&#123;</span><br><span class="line">    list: Array,</span><br><span class="line">    msg: String,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#123;&#123;list&#125;&#125;</span><br></pre></td></tr></table></figure>

<h4 id="组件自调用——递归"><a href="#组件自调用——递归" class="headerlink" title="组件自调用——递归"></a>组件自调用——递归</h4><h4 id="重点2：组件自调用，要写上name值"><a href="#重点2：组件自调用，要写上name值" class="headerlink" title="重点2：组件自调用，要写上name值"></a>重点2：组件自调用，要写上name值</h4><p><code>List.vue</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup name=&quot;List&quot; lang=&#x27;ts&#x27;&gt;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class=&quot;list-box&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;info-title info&quot;&gt;</span><br><span class="line">            &lt;p&gt;地区&lt;/p&gt;</span><br><span class="line">            &lt;p&gt;现有确诊&lt;/p&gt;</span><br><span class="line">            &lt;p&gt;确诊&lt;/p&gt;</span><br><span class="line">            &lt;p&gt;死亡&lt;/p&gt;</span><br><span class="line">            &lt;p&gt;治愈&lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=&quot;list&quot; v-for=&quot;i in list&quot; :key=&quot;i.id&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;p-box&quot;&gt;</span><br><span class="line">                &lt;div class=&quot;info&quot; @click=&quot;getShowChildren(i.id)&quot;&gt;</span><br><span class="line">                    &lt;p&gt;&#123;&#123;i.name&#125;&#125;&lt;/p&gt;</span><br><span class="line">                    &lt;p&gt;&#123;&#123;i.total.confirm - i.today.dead - i.today.heal&#125;&#125;&lt;/p&gt;</span><br><span class="line">                    &lt;p&gt;</span><br><span class="line">                        &lt;span&gt;&#123;&#123;i.total.confirm&#125;&#125;&lt;/span&gt;</span><br><span class="line">                        &lt;span&gt;较昨日&#123;&#123;i.today.confirm&#125;&#125;&lt;/span&gt;</span><br><span class="line">                    &lt;/p&gt;</span><br><span class="line">                    &lt;p&gt;&#123;&#123;i.total.dead&#125;&#125;&lt;/p&gt;</span><br><span class="line">                    &lt;p&gt;&#123;&#123;i.total.heal&#125;&#125;&lt;/p&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                  &lt;!-- 世界数据不展示children --&gt;</span><br><span class="line">                &lt;div v-if=&quot;showChildren&quot;&gt;</span><br><span class="line">                    &lt;div class=&quot;children&quot; v-show=&quot;data.isShowChildren == i.id&quot;&gt;</span><br><span class="line">                        &lt;List :list=&quot;i.children&quot;/&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h4 id="重点3：定义子组件接收的属性"><a href="#重点3：定义子组件接收的属性" class="headerlink" title="重点3：定义子组件接收的属性"></a>重点3：定义子组件接收的属性</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup name=&quot;List&quot; lang=&#x27;ts&#x27;&gt;</span><br><span class="line">import &#123; reactive &#125; from &#x27;vue&#x27;;</span><br><span class="line"></span><br><span class="line">const props = defineProps(&#123;</span><br><span class="line">    list: Array,</span><br><span class="line">    showChildren: Boolean  // 是否显示children数据 （中国病例显示，世界病例不显示—）</span><br><span class="line">&#125;)</span><br><span class="line">console.log(props.list)</span><br><span class="line"></span><br><span class="line">const data = reactive(&#123;</span><br><span class="line">    isShowChildren: &quot;&quot;    // 是否有children</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">const getShowChildren = (id: string) =&gt; &#123;</span><br><span class="line">    data.isShowChildren == id</span><br><span class="line">    ? (data.isShowChildren = &quot;&quot;)</span><br><span class="line">    : (data.isShowChildren = id)</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="文字溢出不换行显示"><a href="#文字溢出不换行显示" class="headerlink" title="文字溢出不换行显示"></a>文字溢出不换行显示</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">white-space: nowrap;</span><br></pre></td></tr></table></figure>



<h3 id="懒加载——下拉刷新上拉加载"><a href="#懒加载——下拉刷新上拉加载" class="headerlink" title="懒加载——下拉刷新上拉加载"></a>懒加载——下拉刷新上拉加载</h3><p>国际病例数据较多——使用懒加载方式。</p>
<h4 id="上拉加载下拉刷新的组件-ScrollCom"><a href="#上拉加载下拉刷新的组件-ScrollCom" class="headerlink" title="上拉加载下拉刷新的组件-ScrollCom"></a>上拉加载下拉刷新的组件-ScrollCom</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class=&quot;box&quot;&gt;</span><br><span class="line">        &lt;!-- ref=&quot;scrollEl&quot; 这里scrollEl 不是一个变量，是字符串--&gt;</span><br><span class="line">        &lt;!-- :ref=&quot;scrollEl&quot; 这里scrollEl 是一个变量--&gt;</span><br><span class="line">        &lt;!-- ref不会被渲染到DOM元素上去， 是一个内部属性，</span><br><span class="line">            用于与data中的属性进行绑定，如果在data中找到了对应名称的响应式的key值(属性)时,</span><br><span class="line">            当这个元素渲染完之后，会把这个元素的指针给到data中与之相同的key值的对象上去--&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- 绑定滚动事件：@scroll --&gt;</span><br><span class="line">        &lt;div </span><br><span class="line">            @scroll=&quot;scrollEvent&quot;</span><br><span class="line">            ref=&quot;scrollEl&quot; </span><br><span class="line">            class=&quot;scrollEl&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;loadingBox&quot; v-if=&quot;touchstartTitleShow&quot;&gt;释放可刷新...&lt;/div&gt;</span><br><span class="line">            &lt;div class=&quot;loadingBox&quot; v-if=&quot;touchendTitleShow&quot;&gt;加载中...&lt;/div&gt;</span><br><span class="line">            &lt;!-- 插槽——————这个组件可以被多个组件使用 --&gt;</span><br><span class="line">            &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">            &lt;div v-if=&quot;!isScroll&quot; class=&quot;&quot;&gt;&#123;&#123;endText&#125;&#125;&lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&#x27;ts&#x27;&gt;</span><br><span class="line">import &#123; reactive, toRefs &#125; from &#x27;vue&#x27;;</span><br><span class="line"></span><br><span class="line">const props = defineProps(&#123;</span><br><span class="line">    distance: &#123;</span><br><span class="line">        type: Number,</span><br><span class="line">        default: 100</span><br><span class="line">    &#125;,</span><br><span class="line">    isScroll: Boolean,</span><br><span class="line">    endText: &#123;</span><br><span class="line">        type: String,</span><br><span class="line">        default: &#x27;没有更多了&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"> const $emit = defineEmits([&#x27;getList&#x27;])</span><br><span class="line"></span><br><span class="line">const data = reactive(&#123;</span><br><span class="line">    scrollEl: null,   // 用来装实例对象，  用于ref获取元素对象</span><br><span class="line">    startText: &quot;释放可刷新&quot;,</span><br><span class="line">    scrollTop: 0,</span><br><span class="line">    scrollY: 0,</span><br><span class="line">    translateY: 0,</span><br><span class="line">    touchstartTitleShow: false, // 控制手指按下屏幕的title显示</span><br><span class="line">    touchendTitleShow: false,   // 控制手指离开屏幕的title显示</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">let &#123; </span><br><span class="line">    scrollEl,</span><br><span class="line">    startText,</span><br><span class="line">    scrollTop,</span><br><span class="line">    scrollY,</span><br><span class="line">    translateY,</span><br><span class="line">    touchstartTitleShow,</span><br><span class="line">    touchendTitleShow,</span><br><span class="line"> &#125; = toRefs(data);</span><br><span class="line"></span><br><span class="line">// 滚动事件</span><br><span class="line"> const scrollEvent = (e:any) =&gt;&#123;</span><br><span class="line">    data.scrollTop = e.srcElement.scrollTop;</span><br><span class="line">    if(!props.isScroll) return;</span><br><span class="line">    if(</span><br><span class="line">        data.scrollTop + e.srcElement.offsetHeight &gt; </span><br><span class="line">        e.srcElement.scrollHeight - props.distance</span><br><span class="line">    )&#123;</span><br><span class="line">        // 获取下一页的数据————子组件给父组件传值</span><br><span class="line">        $emit(&#x27;getList&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="使用ScrollCom"><a href="#使用ScrollCom" class="headerlink" title="使用ScrollCom"></a>使用ScrollCom</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;ScrollCom </span><br><span class="line">    :distance=&quot;100&quot;</span><br><span class="line">    :isScroll=&quot;true&quot;</span><br><span class="line">    @getList=&quot;getList&quot;</span><br><span class="line">&gt;</span><br><span class="line">    &lt;List </span><br><span class="line">    	v-if=&quot;areaTree.length &gt; 0&quot;</span><br><span class="line">    	:showChildren=&quot;false&quot; </span><br><span class="line">    	:list=&quot;areaTree&quot; </span><br><span class="line">    	:msg=&quot;&#x27;世界疫情&#x27;&quot;/&gt;</span><br><span class="line">&lt;/ScrollCom&gt;</span><br></pre></td></tr></table></figure>

<h4 id="对分页加载的数据进行拆解"><a href="#对分页加载的数据进行拆解" class="headerlink" title="对分页加载的数据进行拆解"></a>对分页加载的数据进行拆解</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">const getPageList = (list:any[]) =&gt; &#123;</span><br><span class="line">    const arr:Array&lt;any[]&gt;[] = [];  // 二维数组</span><br><span class="line">    for(let index = 0; index &lt; list.length; index += 30)&#123;</span><br><span class="line">        arr.push(list.slice(index, index + 30))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 对分页加载的数据进行拆解</span><br><span class="line">// 结构 如：[[1-30][31-60]....] 1-30条数据为第一页，31到60为第二页</span><br><span class="line">data.areaTree = getPageList(resData.areaTree);</span><br><span class="line">data.showList = data.areaTree[0];    // 第一页数据</span><br></pre></td></tr></table></figure>

<p>第一页数据：<code>:list=&quot;showList&quot;</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;ScrollCom </span><br><span class="line">    :distance=&quot;100&quot;</span><br><span class="line">    :isScroll=&quot;true&quot;</span><br><span class="line">    @getList=&quot;getList&quot;</span><br><span class="line">&gt;</span><br><span class="line">    &lt;List v-if=&quot;showList.length &gt; 0&quot; :showChildren=&quot;false&quot; :list=&quot;showList&quot; :msg=&quot;&#x27;世界疫情&#x27;&quot;/&gt;</span><br><span class="line">&lt;/ScrollCom&gt;</span><br></pre></td></tr></table></figure>

<h5 id="处理上拉加载报错："><a href="#处理上拉加载报错：" class="headerlink" title="处理上拉加载报错："></a>处理上拉加载报错：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TypeError: data.areaTree[page] is not iterable (cannot read property undefined)</span><br></pre></td></tr></table></figure>

<p>原因：页数等于数据长度仍去获取数据； 解决：页数等于数据长度，就显示“没有更多”</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if(page === data.areaTree.length - 1) &#123;</span><br><span class="line">    data.isScroll = false;  // 不可下拉加载数据</span><br><span class="line">    return;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="下拉刷新"><a href="#下拉刷新" class="headerlink" title="下拉刷新"></a>下拉刷新</h4><ul>
<li>touchstart</li>
<li>touchmove</li>
<li>touchend</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;div </span><br><span class="line">    @scroll=&quot;scrollEvent&quot;</span><br><span class="line">    @touchstart=&quot;touchstart&quot;</span><br><span class="line">    @touchmove=&quot;touchmove&quot;</span><br><span class="line">    @touchend=&quot;touchend&quot;</span><br><span class="line">    ref=&quot;scrollEl&quot; </span><br><span class="line">    :style=&quot;&#123;top: `$&#123;translateY&#125;px`&#125;&quot;</span><br><span class="line">    class=&quot;scroll-box&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;loadingBox&quot; v-if=&quot;touchstartTitleShow&quot;&gt;释放可刷新...&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;loadingBox&quot; v-if=&quot;touchendTitleShow&quot;&gt;加载中...&lt;/div&gt;</span><br><span class="line">    &lt;!-- 插槽——————这个组件可以被多个组件使用 --&gt;</span><br><span class="line">    &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">    &lt;div v-if=&quot;!isScroll&quot; class=&quot;end-text&quot;&gt;&#123;&#123;endText&#125;&#125;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"> // 手指触碰到屏幕</span><br><span class="line"> const touchstart = (e:any) =&gt; &#123;</span><br><span class="line">    console.log(e.targetTouches[0])</span><br><span class="line">    let y = e.targetTouches[0].pageY;</span><br><span class="line">    data.startY = y;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">// 手指开始滑动</span><br><span class="line">const touchmove = (e:any) =&gt; &#123;</span><br><span class="line">    let y = e.targetTouches[0].pageY;</span><br><span class="line">    if(y &gt; data.startY &amp;&amp; data.scrollTop ==0) &#123;</span><br><span class="line">        data.touchstartTitleShow = true;</span><br><span class="line">        // 如果当前移动距离大于初始点击坐标，则视为下拉，并且要处于顶部</span><br><span class="line">        data.translateY = (y - data.startY) / 2;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        data.touchstartTitleShow = false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// 手指松开</span><br><span class="line">const touchend = (e:any) =&gt; &#123;</span><br><span class="line">    let y = e.changedTouches[0].pageY;</span><br><span class="line">    if(y &gt; data.startY) &#123;</span><br><span class="line">        data.translateY = 0;</span><br><span class="line">        data.touchstartTitleShow = false;</span><br><span class="line">        data.touchendTitleShow = true;</span><br><span class="line">        $emit(&#x27;refreshFun&#x27;, () =&gt; &#123;</span><br><span class="line">            // 更新完数据的回调</span><br><span class="line">            data.touchendTitleShow = false;</span><br><span class="line">        &#125;)</span><br><span class="line">        data.startY = 0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const $emit = defineEmits([&#x27;getList&#x27;,&#x27;refreshFun&#x27;])</span><br></pre></td></tr></table></figure>

<h4 id="下拉刷新方法及回调处理"><a href="#下拉刷新方法及回调处理" class="headerlink" title="下拉刷新方法及回调处理"></a>下拉刷新方法及回调处理</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 下拉刷新方法及 回调处理</span><br><span class="line">const refreshFun = (fun:Function) =&gt;&#123;</span><br><span class="line">    // 注：要将initDataFun改为promise函数  即使用async await</span><br><span class="line">    </span><br><span class="line">    initDataFun(data).then(() =&gt; &#123;</span><br><span class="line">        page = 0;</span><br><span class="line">        data.isScroll = true;</span><br><span class="line">        fun();</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注：要将initDataFun函数改为返回promise</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const initDataFun = async (data:InteData) =&gt; &#123;</span><br><span class="line">	....</span><br><span class="line">	let res = await axios(&#x27;/api/ug/api/wuhan/app/data/list-total?t=330415245809&#x27;)</span><br><span class="line">	....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="下拉的空白区域的宽度"><a href="#下拉的空白区域的宽度" class="headerlink" title="下拉的空白区域的宽度"></a>下拉的空白区域的宽度</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:style=&quot;&#123;top: `$&#123;translateY&#125;px`&#125;&quot;</span><br></pre></td></tr></table></figure>



<h4 id="折线图，y轴上的刻度数据被挡住，使用以下方法调整样式"><a href="#折线图，y轴上的刻度数据被挡住，使用以下方法调整样式" class="headerlink" title="折线图，y轴上的刻度数据被挡住，使用以下方法调整样式"></a>折线图，y轴上的刻度数据被挡住，使用以下方法调整样式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yAxis: &#123;</span><br><span class="line">    axisLabel:&#123;</span><br><span class="line">      margin: -20,  </span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>



<h3 id="打包上线"><a href="#打包上线" class="headerlink" title="打包上线"></a>打包上线</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_37656005/article/details/119818759">关于vue3.0 + vite + ts 打包的坑</a></p>
<p><a target="_blank" rel="noopener" href="https://www.modb.pro/db/114083">记一次 vue-tsc 引起的错误</a></p>
<p>打包报错：</p>
<p>将package.json的</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;build&quot;: &quot;vue-tsc --noEmit &amp;&amp; vite build&quot;,</span><br></pre></td></tr></table></figure>

<p>改为</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;build&quot;: &quot;vite build&quot;,</span><br></pre></td></tr></table></figure>

<h5 id="vue3-0-vite-ts项目搭建-分环境打包-四"><a href="#vue3-0-vite-ts项目搭建-分环境打包-四" class="headerlink" title="vue3.0+vite+ts项目搭建-分环境打包(四)"></a><a target="_blank" rel="noopener" href="https://www.shuzhiduo.com/A/nAJvZxqGJr/">vue3.0+vite+ts项目搭建-分环境打包(四)</a></h5><p><a target="_blank" rel="noopener" href="https://rollupjs.org/guide/en/#outputmanualchunks">rollup.js</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_45536484/article/details/120041748">ECharts y轴（yAxis）</a></p>
<p>备注：完整代码在<code>Gitee</code>中<code> Vue3_demo/vue3-vite-yiqing</code></p>
<p>备注：获取疫情数据的接口：<a target="_blank" rel="noopener" href="https://c.m.163.com/api/ug/api/wuhan/app/data/list-total?t=330415245809">https://c.m.163.com/api/ug/api/wuhan/app/data/list-total?t=330415245809</a></p>
<p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1620882">解决vue本地环境跨域请求正常，版本打包后跨域代理不起作用，请求不到数据的方法</a></p>
<p><a target="_blank" rel="noopener" href="https://www.qb5200.com/article/164553.html">vue项目打包后请求地址错误/打包后跨域操作</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43110440/article/details/124882324"><strong>vite 打包后本地不能访问</strong></a></p>
<p><a target="_blank" rel="noopener" href="https://www.it610.com/article/1506847191577198592.htm">vue3+vite项目配置axios及跨域</a></p>
<h4 id="VITE-VUE3-跨域环境变量配置"><a href="#VITE-VUE3-跨域环境变量配置" class="headerlink" title="VITE+VUE3 跨域环境变量配置"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/xm2395939/article/details/125140690?app_version=5.7.0&csdn_share_tail=%7B%22type%22:%22blog%22,%22rType%22:%22article%22,%22rId%22:%22125140690%22,%22source%22:%22winney07%22%7D&ctrtid=shInB&utm_source=app">VITE+VUE3 跨域环境变量配置</a></h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/lsjweiyi/article/details/124645896">神坑——后端允许了跨域但是前端（vue3+vite+axios）仍然提示跨域</a></p>
<h4 id="axios封装请求"><a href="#axios封装请求" class="headerlink" title="axios封装请求"></a><a target="_blank" rel="noopener" href="https://www.it610.com/article/1506847191577198592.htm">axios封装请求</a></h4><h4 id="使用vite如何配置跨域，以及环境配置"><a href="#使用vite如何配置跨域，以及环境配置" class="headerlink" title="使用vite如何配置跨域，以及环境配置"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/jch923798729/article/details/123658250">使用vite如何配置跨域，以及环境配置</a></h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_62152730/article/details/125082425">vue部署Linux上 跨域问题</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">var http = axios.create(&#123;</span><br><span class="line">  timeout: 1000 * 20,</span><br><span class="line">  baseURL: import.meta.env.DEV? &#x27;&#x27;: import.meta.env.VITE_BASE_URL</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">server: &#123;</span><br><span class="line">  port: 4000, // 设置服务启动端口号</span><br><span class="line">  open: true, // 设置服务启动时是否自动打开浏览器</span><br><span class="line">  cors: true, // 允许跨域</span><br><span class="line"></span><br><span class="line">  // 设置代理，根据我们项目实际情况配置</span><br><span class="line">  proxy: &#123;</span><br><span class="line">    &#x27;/api&#x27;: &#123;</span><br><span class="line">      target: env.VITE_BASE_URL, // 环境变量</span><br><span class="line">      changeOrigin: true,</span><br><span class="line">      secure: false,</span><br><span class="line">      rewrite: (path) =&gt; path.replace(&#x27;/api/&#x27;, &#x27;&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_62152730?type=blog">https://blog.csdn.net/m0_62152730?type=blog</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/17/Pinia/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="winney">
      <meta itemprop="description" content="Doing is better than saying.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="winney">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/17/Pinia/" class="post-title-link" itemprop="url">Pinia</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-17 11:12:54" itemprop="dateCreated datePublished" datetime="2022-06-17T11:12:54+08:00">2022-06-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-08-24 18:09:23" itemprop="dateModified" datetime="2022-08-24T18:09:23+08:00">2022-08-24</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://pinia.vuejs.org/">Pinia-官网</a></p>
<p><a target="_blank" rel="noopener" href="https://stackblitz.com/github/piniajs/example-vue-3-vite?file=index.html">Pinia-Demo</a></p>
<h4 id="pinia2入门使用"><a href="#pinia2入门使用" class="headerlink" title="pinia2入门使用"></a><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/d42b9c57cbac">pinia2入门使用</a></h4>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/08/Vue3-0-%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="winney">
      <meta itemprop="description" content="Doing is better than saying.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="winney">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/08/Vue3-0-%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">Vue3.0-笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-08 16:35:13" itemprop="dateCreated datePublished" datetime="2022-06-08T16:35:13+08:00">2022-06-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-08-24 18:09:23" itemprop="dateModified" datetime="2022-08-24T18:09:23+08:00">2022-08-24</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="Vue3-x–系列学习"><a href="#Vue3-x–系列学习" class="headerlink" title="Vue3.x–系列学习"></a><a target="_blank" rel="noopener" href="https://www.kancloud.cn/cyyspring/vue3/2696499">Vue3.x–系列学习</a></h4><h4 id="vue3-ts-2-：TypeScript-语法汇总"><a href="#vue3-ts-2-：TypeScript-语法汇总" class="headerlink" title="vue3+ts(2)：TypeScript 语法汇总"></a><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/360553463">vue3+ts(2)：TypeScript 语法汇总</a></h4><ul>
<li>vue3+ts项目系列第1篇**<a href="https://link.zhihu.com/?target=https://mp.weixin.qq.com/s/MpmoEbJPTWKCSHdtpd1jCw">《vue3项目从0到1搭建》</a>**</li>
<li>vue3+ts项目系列第2篇**<a href="https://link.zhihu.com/?target=https://lianpf.github.io/posts/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/03.ts%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/">《TypeScript 语法汇总》</a>**</li>
<li>vue3+ts项目系列第3篇**<a href="https://link.zhihu.com/?target=https://lianpf.github.io/posts/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/07.vue3%E7%BB%84%E5%90%88%E5%BC%8Fapi%E5%8F%8A%E9%87%8D%E8%A6%81%E5%B1%9E%E6%80%A7%E5%8F%98%E6%9B%B4/">《vue3组合式api及重要属性变更》</a>**</li>
</ul>
<h4 id="vite-vue3-ts-富文本编辑器"><a href="#vite-vue3-ts-富文本编辑器" class="headerlink" title="vite + vue3 + ts 富文本编辑器"></a>vite + vue3 + ts 富文本编辑器</h4><p><a target="_blank" rel="noopener" href="https://www.lanmper.cn/vue/t9834.html">vite + vue3 + ts 安装 tinymce 富文本编辑器</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/tinymce/tinymce">tinymce</a></p>
<p><a target="_blank" rel="noopener" href="https://www.tiny.cloud/">tiny官网</a></p>
<p><strong><a target="_blank" rel="noopener" href="https://github.com/tinymce/tinymce-vue">tinymce-vue</a></strong></p>
<p><a target="_blank" rel="noopener" href="https://www.tiny.cloud/docs/quick-start/">文档</a></p>
<p><a target="_blank" rel="noopener" href="http://tinymce.ax-z.cn/">tiny中文文档</a></p>
<p><a target="_blank" rel="noopener" href="http://tinymce.ax-z.cn/integrations/integrate-index.php">在vue中的使用</a></p>
<p><a target="_blank" rel="noopener" href="https://www.tiny.cloud/docs/integrations/vue/">Vue中的使用-官网</a></p>
<h4 id="1-安装"><a href="#1-安装" class="headerlink" title="1.安装"></a>1.安装</h4><p><a target="_blank" rel="noopener" href="https://www.tiny.cloud/docs/tinymce/6/vue-pm/">Vue3项目的安装</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save tinymce &quot;@tinymce/tinymce-vue@^4&quot;</span><br></pre></td></tr></table></figure>

<p><code>注：此应用包共有两个目录文件：*tinymce*和*@tinymce*。以后若需要卸载的话，可以直接删除这两个目录文件</code></p>
<h4 id="2-安装汉化语言包"><a href="#2-安装汉化语言包" class="headerlink" title="2.安装汉化语言包"></a>2.安装汉化语言包</h4><p><a target="_blank" rel="noopener" href="https://www.tiny.cloud/get-tiny/language-packages/">语言包下载列表</a>，选择<em>Chinese Simplified</em>，解压得到<em>zh-Hans.js</em>文件。</p>
<p>然后，在<code>/node_modules/tinymce</code>下，新建设目录<em>langs</em>，把<em>zh-Hans.js</em>复制过去。注意：langs 目录必须与 themes，处于同等目录下，否则不起作用。</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_46850900/article/details/112500444?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522165969109816782395347116%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=165969109816782395347116&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-112500444-null-null.142%5Ev39%5Epc_rank_v37,185%5Ev2%5Econtrol&utm_term=vue%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8&spm=1018.2226.3001.4187">vue富文本编辑器</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_48201324/article/details/122632208?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522165969109816782395347116%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=165969109816782395347116&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_click~default-4-122632208-null-null.142%5Ev39%5Epc_rank_v37,185%5Ev2%5Econtrol&utm_term=vue%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8&spm=1018.2226.3001.4187">最好用的 7 款 Vue 3 富文本编辑器</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/w1418899532/article/details/100867223?ops_request_misc=&request_id=&biz_id=102&utm_term=vue%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-3-100867223.142%5Ev39%5Epc_rank_v37,185%5Ev2%5Econtrol&spm=1018.2226.3001.4187">vue实现富文本编辑器(附图)-vue-quill-editor</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/huihuihero/p/13877589.html">在vuecli3.0+中使用tinymce及实现多图上传，文件上传，公式编辑等功能</a></p>
<h4 id="vue3-vite的项目如何将打包后的绝对路径改为相对路径"><a href="#vue3-vite的项目如何将打包后的绝对路径改为相对路径" class="headerlink" title="vue3+vite的项目如何将打包后的绝对路径改为相对路径"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/zy21131437/article/details/125861170">vue3+vite的项目如何将打包后的绝对路径改为相对路径</a></h4><p>在vue3+vite的项目中，配置文件名为 <strong><code>vite.config.js</code>**，如果没有就在<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E6%A0%B9%E7%9B%AE%E5%BD%95&spm=1001.2101.3001.7020">根目录</a>下新建一个，文件名固定为：</strong><code>vite.config.js</code>**，然后在里面加上base属性，设置值为 <code>&quot;./&quot;</code>，如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import &#123; defineConfig &#125; from &#x27;vite&#x27;</span><br><span class="line">import vue from &#x27;@vitejs/plugin-vue&#x27;</span><br><span class="line"></span><br><span class="line">// https://vitejs.dev/config/</span><br><span class="line">export default defineConfig(&#123;</span><br><span class="line">  plugins: [vue()],</span><br><span class="line">  base: &#x27;./&#x27;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>如果不是用Vite的，[vue cli3.x打包后如何修改生成的静态资源的目录和路径](</p>
<h4 id="仅限-TypeScript-的功能"><a href="#仅限-TypeScript-的功能" class="headerlink" title="仅限 TypeScript 的功能"></a>仅限 TypeScript 的功能</h4><p><a target="_blank" rel="noopener" href="https://preview.pro.ant.design/dashboard/analysis">Ant Design Pro</a></p>
<h4 id="仅限类型的-props-emit-声明"><a href="#仅限类型的-props-emit-声明" class="headerlink" title="#仅限类型的 props/emit 声明"></a><a target="_blank" rel="noopener" href="https://v3.cn.vuejs.org/api/sfc-script-setup.html#%E4%BB%85%E9%99%90%E7%B1%BB%E5%9E%8B%E7%9A%84-props-emit-%E5%A3%B0%E6%98%8E">#</a>仅限类型的 props/emit 声明</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_43612538/article/details/117753657">关于vue3.x中的emits的用法</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/lijiahui_/article/details/123944591">【vue3 之 emits &amp; $emit() 讲解 】监听子组件事件、emit事件验证、options写法、composition setup写法</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/snowball_li/article/details/123298575">vue：匿名slot、具名slot、作用域slot（技术栈Vue3 + TS）</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/jing-zhe/p/14171863.html">博客参考</a></p>
<p><strong>diff方法优化：<a target="_blank" rel="noopener" href="http://vue-next-template-explorer.netlify.app/">http://vue-next-template-explorer.netlify.app/</a></strong></p>
<p><a target="_blank" rel="noopener" href="https://v3.cn.vuejs.org/api/composition-api.html#setup">组合式API</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_51754955/article/details/119062659">vscode自定义代码片段</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_46357198/article/details/121308557">vscode 中，vue导入组件路径提示</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_61233877/article/details/125092310">带你熟练vue3的setup语法糖＜script setup＞</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42776027/article/details/121007438">vue3的script setup语法糖中使用toRefs</a></p>
<p><a target="_blank" rel="noopener" href="https://wenku.baidu.com/view/dd64aaffa68da0116c175f0e7cd184254b351b21.html">vue3的script setup语法糖中使用toRefs</a></p>
<p><a target="_blank" rel="noopener" href="http://www.zzvips.com/article/212964.html">Vue3 学习笔记—Script Setup 语法糖用了才知道有多爽</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/MrSlow/p/15777696.html">Vue3新的script setup语法糖</a></p>
<h4 id="安装Vue-Language-Features-Volar-插件"><a href="#安装Vue-Language-Features-Volar-插件" class="headerlink" title="安装Vue Language Features (Volar)插件"></a>安装Vue Language Features (Volar)插件</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43880397/article/details/121464597">vue3 学习笔记 (五)——vue3 的 setup 如何实现响应式功能？</a></p>
<h3 id="防抖和节流"><a href="#防抖和节流" class="headerlink" title="防抖和节流"></a><a target="_blank" rel="noopener" href="https://v3.cn.vuejs.org/guide/data-methods.html#%E9%98%B2%E6%8A%96%E5%92%8C%E8%8A%82%E6%B5%81">防抖和节流</a></h3><p>Vue 没有内置支持防抖和节流，但可以使用 <a target="_blank" rel="noopener" href="https://lodash.com/">Lodash</a> 等库来实现</p>
<h4 id="setup语法糖处理异步-响应式数组数据"><a href="#setup语法糖处理异步-响应式数组数据" class="headerlink" title="setup语法糖处理异步-响应式数组数据"></a>setup语法糖处理异步-响应式数组数据</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">let data = reactive([]);</span><br><span class="line"></span><br><span class="line">api.get(&#x27;/apps/getapps&#x27;).then(res =&gt; &#123;</span><br><span class="line">    if(res.code === 1) &#123;</span><br><span class="line">        console.log(res.data)</span><br><span class="line">        data.push(...res.data)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="Vue3-数据响应式"><a href="#Vue3-数据响应式" class="headerlink" title="Vue3 数据响应式"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/hx_1551/article/details/124623872">Vue3 数据响应式</a></h4><p>在vue3中一般返回的数据是不响应的，如果需要响应式需要在定义时声明<br>方法1：reactive（）：<br>    定义：reactive（）是一个函数，可以用来定义复杂数据类型完成响应式<br>    案例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;&#123;&#123;userInfo.name&#125;&#125;&lt;/div&gt;</span><br><span class="line">//4，结果打印Cat</span><br><span class="line">&lt;button @click=&quot;userNameUpdate&quot;&gt;&lt;button&gt;</span><br><span class="line">&lt;script lang=&#x27;setup&#x27;&gt;</span><br><span class="line">//1，引用reactive</span><br><span class="line">import &#123;reactive&#125; from &#x27;vue&#x27;</span><br><span class="line">//2，定义响应式对象</span><br><span class="line">const userInfo = reactive(&#123;</span><br><span class="line">    name:&#x27;&#x27;</span><br><span class="line">&#125;)</span><br><span class="line">//3，点击改变响应式对象中name的值</span><br><span class="line">const userNameUpdate = ()=&gt;&#123;</span><br><span class="line">    userInfo.name = &quot;Cat&quot;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>方法2：toRef（）：<br>    定义：当我们在渲染数据时，不希望用到前缀时，可以使用组合toRef（）<br>       toRef（）是函数，<strong>转换响应式对象</strong>中的某个属性为单独响应式数据，他们之间依然相互绑定<br>    案例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt;</span><br><span class="line">//先打印Vue2</span><br><span class="line">&lt;button @click=&#x27;nameUpdata&#x27;&gt;修改&lt;/button&gt;</span><br><span class="line">//点击后打印Vue3</span><br><span class="line">&lt;script lang=&#x27;setup&#x27;&gt;</span><br><span class="line">//1，引用reactive，toRef</span><br><span class="line">import &#123;reactive,toRef&#125; from &#x27;vue&#x27;</span><br><span class="line">//2，定义响应式对象</span><br><span class="line">const userInfo = reactive(&#123;</span><br><span class="line">    name:&#x27;Vue2&#x27;</span><br><span class="line">&#125;)</span><br><span class="line">//3，定义单独响应式变量</span><br><span class="line">const name = toRef(userInfo,&#x27;name&#x27;)</span><br><span class="line">//4，点击修改name值</span><br><span class="line">const nameUpdata = ()=&gt;&#123;</span><br><span class="line">    name.value = &#x27;Vue3&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>方法3：toRefs（）：<br>    定义：可以定义转换响应式对象中所有属性为响应式数据，通常用于结构reactive定义的对象，转换响应式对象中所有属性（也可以是一部分）为单独响应式数据，对象成为普通对象，且数据关联<br>    案例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;div&gt;姓名：&#123;&#123;name&#125;&#125;&lt;/div&gt;</span><br><span class="line">&lt;div&gt;年龄：&#123;&#123;age&#125;&#125;&lt;/div&gt;</span><br><span class="line">&lt;button @click = &#x27;upData&#x27;&gt;修改信息&lt;/button&gt;</span><br><span class="line">&lt;script lang=&#x27;setup&#x27;&gt;</span><br><span class="line">//1，引用reactive、toRefs</span><br><span class="line">import &#123;reactive,toRefs&#125; from &#x27;vue&#x27;</span><br><span class="line">//2，定义响应式对象</span><br><span class="line">const userInfo = reactive(&#123;</span><br><span class="line">    name:&#x27;张三&#x27;,</span><br><span class="line">    age:&#x27;23&#x27;</span><br><span class="line">&#125;)</span><br><span class="line">//3，定义转换单独响应式数据</span><br><span class="line">const &#123;name,age&#125; =toRefs(userInfo)</span><br><span class="line">//4，修改数据事件</span><br><span class="line">const upData = () =&gt;&#123;</span><br><span class="line">    name.value = &#x27;李四&#x27;</span><br><span class="line">    age.value = &#x27;24&#x27;</span><br><span class="line">&#125; </span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>方法4：ref（）：<br>        定义：ref（）是一个函数，用来定义简单类型数据响应式<br>        注意：<br>                1）在修改值和获取值时需要用.value<br>                2）在渲染数据时可以省略.value<br>        案例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;div&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt;</span><br><span class="line">&lt;button @click=&quot;upData&quot;&gt;修改&lt;/button&gt;</span><br><span class="line">&lt;script lang=&#x27;setup&#x27;&gt;</span><br><span class="line">//1，引用ref</span><br><span class="line">import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line">//2，定义响应式变量</span><br><span class="line">const name = ref(&#x27;vue2&#x27;)</span><br><span class="line">//3，修改数据事件</span><br><span class="line">const upData = ()=&gt;&#123;</span><br><span class="line">    name.value = &#x27;vue3&#x27;</span><br><span class="line">    conslot.log(name.value)</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="vue中数组的七个响应式方法"><a href="#vue中数组的七个响应式方法" class="headerlink" title="vue中数组的七个响应式方法"></a><a target="_blank" rel="noopener" href="https://www.csdn.net/tags/OtDaEg4sMjUxMTUtYmxvZwO0O0OO0O0O.html">vue中数组的七个响应式方法</a></h4><h4 id="antd-Select组件placeholder不显示解决办法和原因"><a href="#antd-Select组件placeholder不显示解决办法和原因" class="headerlink" title="antd Select组件placeholder不显示解决办法和原因"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/GMLGDJ/article/details/122754487">antd Select组件placeholder不显示解决办法和原因</a></h4><p> &lt;Select<br>        placeholder=”placeholder”<br>        // value={undefined} //显示<br>        value=’’  // 不显示<br>      // value={null}  // 不显示<br>      &gt;<br>        <Option value="lucy">Lucy</Option><br>      </Select><br>解决办法：placeholder不显示是因为设置了value值为”或者null，把value值设为undefined就可以了</p>
<p>原因：placeholder是当前组件值为空时显示的替换文本，只有值为空的时候才会显示。当组件绑定了value后，值不再是空，即时初始化值为””或null也视为有值，所以placeholder自然就不会显示。</p>
<h4 id="vee-validate"><a href="#vee-validate" class="headerlink" title="vee-validate"></a>vee-validate</h4><p>Vue项目中使用<a target="_blank" rel="noopener" href="https://wenku.baidu.com/view/7aba411740323968011ca300a6c30c225901f022.html">vee-validate进行表单验证</a></p>
<h4 id="自动添加前缀"><a href="#自动添加前缀" class="headerlink" title="自动添加前缀"></a>自动添加前缀</h4><p>Vue 是通过运行时检测来确定哪些样式的 property 是被当前浏览器支持的。如果浏览器不支持某个 property，Vue 会进行多次测试以找到支持它的前缀。</p>
<h4 id="在-lt-template-gt-元素上使用-v-if-条件渲染分组"><a href="#在-lt-template-gt-元素上使用-v-if-条件渲染分组" class="headerlink" title="在 &lt;template&gt; 元素上使用 v-if 条件渲染分组"></a>在 <code>&lt;template&gt;</code> 元素上使用 <code>v-if</code> 条件渲染分组</h4><h4 id="Vue3-VSCode代码片段"><a href="#Vue3-VSCode代码片段" class="headerlink" title="Vue3-VSCode代码片段"></a>Vue3-VSCode代码片段</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&quot;vue-template&quot;: &#123;</span><br><span class="line">		&quot;prefix&quot;: &quot;vue3&quot;,</span><br><span class="line">		&quot;body&quot;: [</span><br><span class="line">		&quot;&lt;template&gt;&quot;,</span><br><span class="line">		&quot;&quot;,</span><br><span class="line">		&quot;&lt;/template&gt;&quot;,</span><br><span class="line">		&quot;&quot;,</span><br><span class="line">		&quot;&lt;script setup lang=&#x27;ts&#x27;&gt;&quot;,</span><br><span class="line">		&quot;&quot;,</span><br><span class="line">		&quot;&lt;/script&gt;&quot;,</span><br><span class="line">		&quot;&quot;,</span><br><span class="line">		&quot;&lt;style lang=&#x27;less&#x27;&gt;&quot;,</span><br><span class="line">		&quot;&quot;,</span><br><span class="line">		&quot;&lt;/style&gt;&quot;,</span><br><span class="line">		],</span><br><span class="line">		&quot;description&quot;: &quot;my vue3 template&quot;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h4 id="props-–-defineProps-Ts-版本"><a href="#props-–-defineProps-Ts-版本" class="headerlink" title="props – defineProps Ts 版本"></a><a target="_blank" rel="noopener" href="https://www.kancloud.cn/cyyspring/vue3/2748147">props – defineProps Ts 版本</a></h4><h4 id="vue3-setup单文件组件中配置inheritAttrs"><a href="#vue3-setup单文件组件中配置inheritAttrs" class="headerlink" title="vue3 setup单文件组件中配置inheritAttrs"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/xuefeng11111/article/details/121584181">vue3 setup单文件组件中配置inheritAttrs</a></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        inheritAttrs: false</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h5 id="ts写法"><a href="#ts写法" class="headerlink" title="ts写法"></a>ts写法</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script lang=&#x27;ts&#x27;&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        inheritAttrs: false</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="mande-插件"><a href="#mande-插件" class="headerlink" title="mande-插件"></a><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/mande">mande-插件</a></h4><p>fetch-插件</p>
<p><em>mande</em> has better defaults to communicate with APIs using <code>fetch</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install mande</span><br><span class="line">yarn add mande</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import &#123; mande &#125; from &#x27;mande&#x27;</span><br><span class="line"></span><br><span class="line">const users = mande(&#x27;/api/users&#x27;)</span><br><span class="line"></span><br><span class="line">users</span><br><span class="line">  .post(&#123;</span><br><span class="line">    name: &#x27;Dio&#x27;,</span><br><span class="line">    password: &#x27;irejectmyhumanityjojo&#x27;,</span><br><span class="line">  &#125;)</span><br><span class="line">  .then((user) =&gt; &#123;</span><br><span class="line">    // ...</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<h4 id="defineProps-Ts-版本"><a href="#defineProps-Ts-版本" class="headerlink" title="defineProps Ts 版本"></a><a target="_blank" rel="noopener" href="https://www.kancloud.cn/cyyspring/vue3/2748147">defineProps Ts 版本</a></h4><ul>
<li><code>defineProps</code> 在ts 版本支持 <strong>泛型参数来定义 prop</strong></li>
<li>传递给<code>defineProps</code>的泛型参数本身<strong>不能</strong>是一个导入的类型</li>
<li>基于类型的声明或者运行时声明都可以使用，但是你不能同时使用两者</li>
<li>接口或对象字面类型可以包含从其他文件导入的类型引用</li>
<li>ts 类型编译时候 require 默认不是false 是true</li>
</ul>
<ol>
<li><strong>泛型参数来定义 prop</strong></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt; &#123;&#123; props.name &#125;&#125; &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">  // js 版本使用支持的</span><br><span class="line">  // const props = defineProps(&#123;</span><br><span class="line">  //   name: String,</span><br><span class="line">  // &#125;);</span><br><span class="line"></span><br><span class="line"> // 类型字面量定义</span><br><span class="line">  // type Props = &#123;</span><br><span class="line">  //   name: string;</span><br><span class="line">  //   age: number | string;</span><br><span class="line">  // &#125;;</span><br><span class="line"></span><br><span class="line">  // ts 泛型形式定义</span><br><span class="line">  interface Props &#123;</span><br><span class="line">    name: string;</span><br><span class="line">    age?: number | string;</span><br><span class="line">  &#125;</span><br><span class="line">  const props = defineProps&lt;Props&gt;();</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<ol>
<li>传递给<code>defineProps</code>的泛型参数本身<strong>不能</strong>是一个导入的类型</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Props &#125; from &#x27;./other-file&#x27;</span><br><span class="line"></span><br><span class="line">// 不支持！</span><br><span class="line">defineProps&lt;Props&gt;()</span><br></pre></td></tr></table></figure>

<ol>
<li>基于类型的声明或者运行时声明都可以使用，但是你不能同时使用两者</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt; &lt;div&gt;&lt;/div&gt;&#123;&#123; props.name &#125;&#125; &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">  // 不可以两种写法混用</span><br><span class="line">  type Props = &#123;</span><br><span class="line">    name: string;</span><br><span class="line">    age: number | string;</span><br><span class="line">  &#125;;</span><br><span class="line">  const props = defineProps&lt;Props&gt;(&#123;</span><br><span class="line">    name: String,</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<ol>
<li>接口或对象字面类型可以包含从其他文件导入的类型引用</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">type a = string;</span><br><span class="line">export default a;</span><br><span class="line">&lt;template&gt; &lt;div&gt;&lt;/div&gt;&#123;&#123; props.name &#125;&#125; &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">  import a from &#x27;../Props/props&#x27;;</span><br><span class="line">  // 接口中调用的类型可以从 其他文件导入</span><br><span class="line">  type Props = &#123;</span><br><span class="line">    name: a; // 我使用其他文件类型</span><br><span class="line">    age: number | string;</span><br><span class="line">  &#125;;</span><br><span class="line">  const props = defineProps&lt;Props&gt;();</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<ol>
<li>ts 类型编译时候 require 默认不是false 是true <code>defineProps&lt;&#123; msg: string &#125;&gt;</code>会被编译为<code>&#123; msg: &#123; type: String, required: true &#125;&#125;</code>。<br><img src="https://img.kancloud.cn/b4/3d/b43d7135b2cf177ffff9704b2cd01fad_518x138.png" alt="img"></li>
</ol>
<blockquote>
<h5 id="ts-泛型参数来定义-–-定义默认值"><a href="#ts-泛型参数来定义-–-定义默认值" class="headerlink" title="ts 泛型参数来定义 – 定义默认值"></a>ts 泛型参数来定义 – 定义默认值</h5></blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">interface Props &#123;</span><br><span class="line">  msg?: string // ? 相当于 require 是否必填默认必填</span><br><span class="line">  labels?: string[],</span><br><span class="line">  age:12 | 13, //  相当于 validator，但复杂的不行</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 定义默认值比较复杂 需要withDefaults 函数 </span><br><span class="line">const props = withDefaults(defineProps&lt;Props&gt;(), &#123;</span><br><span class="line">  msg: &#x27;hello&#x27;,</span><br><span class="line">  labels: () =&gt; [&#x27;one&#x27;, &#x27;two&#x27;]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<blockquote>
<h5 id="ts-泛型参数来定义-–-开启响应式语法糖"><a href="#ts-泛型参数来定义-–-开启响应式语法糖" class="headerlink" title="ts 泛型参数来定义 – 开启响应式语法糖"></a>ts 泛型参数来定义 – 开启响应式语法糖</h5></blockquote>
<p>这种形式必须是<strong>开启响应式语法糖</strong>，默认是关闭的目前在实验属性，需要版本 <a target="_blank" rel="noopener" href="https://staging-cn.vuejs.org/guide/extras/reactivity-transform.html#explicit-opt-in">可以参考</a><br><code>vue@^3.2.25</code>。</p>
<h3 id="Vite"><a href="#Vite" class="headerlink" title="Vite#"></a>Vite<a target="_blank" rel="noopener" href="https://staging-cn.vuejs.org/guide/extras/reactivity-transform.html#vite">#</a></h3><ul>
<li>需要<code>@vitejs/plugin-vue@^2.0.0</code></li>
<li>应用于 SFC 和 js(x)/ts(x) 文件。在执行转换之前，会对文件进行快速的使用检查，因此不使用宏的文件应该不会有性能损失。</li>
<li>注意<code>refTransform</code>现在是一个插件的顶层选项，而不再是位于<code>script.refSugar</code>之中了，因为它不仅仅只对 SFC 起效。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// vite.config.js</span><br><span class="line">export default &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    vue(&#123;</span><br><span class="line">      reactivityTransform: true</span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="vue-cli"><a href="#vue-cli" class="headerlink" title="vue-cli#"></a><code>vue-cli</code><a target="_blank" rel="noopener" href="https://staging-cn.vuejs.org/guide/extras/reactivity-transform.html#vue-cli">#</a></h3><ul>
<li>目前仅对 SFC 起效</li>
<li>需要<code>vue-loader@^17.0.0</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// vue.config.js</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  chainWebpack: (config) =&gt; &#123;</span><br><span class="line">    config.module</span><br><span class="line">      .rule(&#x27;vue&#x27;)</span><br><span class="line">      .use(&#x27;vue-loader&#x27;)</span><br><span class="line">      .tap((options) =&gt; &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">          ...options,</span><br><span class="line">          reactivityTransform: true</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="仅用webpack-vue-loader"><a href="#仅用webpack-vue-loader" class="headerlink" title="仅用webpack+vue-loader#"></a>仅用<code>webpack</code>+<code>vue-loader</code><a target="_blank" rel="noopener" href="https://staging-cn.vuejs.org/guide/extras/reactivity-transform.html#plain-webpack-vue-loader">#</a></h3><ul>
<li>目前仅对 SFC 起效</li>
<li>需要<code>vue-loader@^17.0.0</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// webpack.config.js</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: /\.vue$/,</span><br><span class="line">        loader: &#x27;vue-loader&#x27;,</span><br><span class="line">        options: &#123;</span><br><span class="line">          reactivityTransform: true</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>开启后使用</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">  interface Props &#123;</span><br><span class="line">    msg: string</span><br><span class="line">    count?: number</span><br><span class="line">    foo?: string</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  const &#123;</span><br><span class="line">    msg,</span><br><span class="line">    // 默认值正常可用</span><br><span class="line">    count = 1,</span><br><span class="line">    // 解构时命别名也可用</span><br><span class="line">    // 这里我们就将 `props.foo` 命别名为 `bar`</span><br><span class="line">    foo: bar</span><br><span class="line">  &#125; = defineProps&lt;Props&gt;()</span><br><span class="line"></span><br><span class="line">  watchEffect(() =&gt; &#123;</span><br><span class="line">    // 会在 props 变化时打印</span><br><span class="line">    console.log(msg, count, bar)</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<h5 id="最佳实践"><a href="#最佳实践" class="headerlink" title="最佳实践"></a>最佳实践</h5></blockquote>
<p><code>Volar</code>可以赋予上文中的 template 很友好的 TS 提示与校验，解决了 template 的 TS 提示问题。<strong>注意</strong>，使用它时，要先**移除<code>Vetur</code>**，以避免造成冲突，如下图如果使用ts 并且使用 Vetur 并不会有props 提示并且使用setup 组件会显示没有使用，图使用<code>Volar</code> 解决了这些问题</p>
<p><img src="https://img.kancloud.cn/aa/83/aa83cc72e95290db156be8dd7c4e4825_627x376.png" alt="img"></p>
<h4 id="SFC-Single-File-Components"><a href="#SFC-Single-File-Components" class="headerlink" title="SFC -Single-File Components"></a><a target="_blank" rel="noopener" href="https://vuejs.org/guide/scaling-up/sfc.html">SFC -Single-File Components</a></h4><p><a target="_blank" rel="noopener" href="https://vitejs.dev/config/">Vite-config</a></p>
<h4 id="vite热更新（vue3）"><a href="#vite热更新（vue3）" class="headerlink" title="vite热更新（vue3）"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_45369499/article/details/125158995">vite热更新（vue3）</a></h4><p><code>vite.config.ts</code>文件中添加代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">hmr</span>: <span class="literal">true</span>,  <span class="comment">// 开启热更新</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">export default defineConfig(&#123;</span><br><span class="line">  plugins: [vue()],</span><br><span class="line">  server:&#123;</span><br><span class="line">    hmr: true,  // 开启热更新</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="Ant-Design-Vue3-x中动态渲染icon图标"><a href="#Ant-Design-Vue3-x中动态渲染icon图标" class="headerlink" title="Ant Design Vue3.x中动态渲染icon图标"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_53056203/article/details/124568024">Ant Design Vue3.x中动态渲染icon图标</a></h4><h4 id="Vue-3-Ant-Design-Vue-动态渲染icons"><a href="#Vue-3-Ant-Design-Vue-动态渲染icons" class="headerlink" title="Vue 3 Ant Design Vue 动态渲染icons"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/DevilAngelia/article/details/124959849">Vue 3 Ant Design Vue 动态渲染icons</a></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import * as antIcons from &#x27;@ant-design/icons-vue&#x27; // 引入ant icons</span><br><span class="line"></span><br><span class="line">const antIconsList: any = antIcons; // 重新赋值定义类型 避免后续遍历注册组件的时候ts报错</span><br><span class="line"></span><br><span class="line">&lt;component :is=&quot;antIconsList[item.meta.icon]&quot; /&gt;</span><br></pre></td></tr></table></figure>

<h4 id="vue-3-的复制功能-vue-clipboard3"><a href="#vue-3-的复制功能-vue-clipboard3" class="headerlink" title="vue 3 的复制功能 vue-clipboard3"></a><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/c3fb60e8eccb">vue 3 的复制功能 vue-clipboard3</a></h4><h4 id="组件-国际化-中文"><a href="#组件-国际化-中文" class="headerlink" title="组件-国际化-中文"></a>组件-国际化-中文</h4><p><a target="_blank" rel="noopener" href="https://blog.51cto.com/u_15316082/3209711">Vue+antd 国际化–默认英文改成中文</a></p>
<p>[Vue 解决 Warning: <a target="_blank" rel="noopener" href="https://blog.csdn.net/zz00008888/article/details/112895429">antdv: LocaleProvider] <code>LocaleProvider</code> is deprecated. Please use <code>locale</code> …..</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import zh_CN from &quot;ant-design-vue/lib/locale-provider/zh_CN&quot;;</span><br><span class="line"></span><br><span class="line">&lt;a-config-provider :locale=&quot;zh_CN&quot;&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/a-config-provider&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>原因：在使用 ant-design-for-vue 国际化的时候，LocaleProvider 已弃用，需要换成 ConfigProvider。</li>
<li>解决：把<code> &lt;a-locale-provider&gt;</code> 标签换成 <code>&lt;a-config-provider&gt;</code> 标签即可</li>
</ul>
<p><a target="_blank" rel="noopener" href="http://www.manongjc.com/detail/24-fqjxxougfxbdcin.html">antd-vue实现导出excel</a></p>
<p><a target="_blank" rel="noopener" href="http://t.zoukankan.com/llive-p-14880959.html">antd-vue实现导出excel</a></p>
<p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/2047844">Vue3将数据导出为Excel—公司偷学技术的第1天</a>、</p>
<h3 id="导出表格-js-table2excel"><a href="#导出表格-js-table2excel" class="headerlink" title="导出表格-js-table2excel"></a><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/js-table2excel">导出表格-js-table2excel</a></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install js-table2excel</span><br></pre></td></tr></table></figure>

<h4 id="可以设置表格的单元格的宽高和类型"><a href="#可以设置表格的单元格的宽高和类型" class="headerlink" title="可以设置表格的单元格的宽高和类型"></a>可以设置表格的单元格的宽高和类型</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">const column = [</span><br><span class="line">    &#123;</span><br><span class="line">        title: &#x27;Name&#x27;,</span><br><span class="line">        key: &#x27;name&#x27;,</span><br><span class="line">        type: &#x27;text&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        title: &#x27;Pic&#x27;,</span><br><span class="line">        key: &#x27;pic&#x27;,</span><br><span class="line">        type: &#x27;image&#x27;,</span><br><span class="line">        width: 80,</span><br><span class="line">        height: 50</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line">const data = [</span><br><span class="line">    &#123;</span><br><span class="line">        name: &#x27;xiao&#x27;,</span><br><span class="line">        age: &#x27;18&#x27;,</span><br><span class="line">        pic: &#x27;&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        name: &#x27;jie&#x27;,</span><br><span class="line">        age: &#x27;18&#x27;,</span><br><span class="line">        pic: &#x27;&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line">const excelName = &#x27;boy&#x27;</span><br><span class="line"> </span><br><span class="line">table2excel(column, data, excelName)</span><br></pre></td></tr></table></figure>

<h4 id="报错处理"><a href="#报错处理" class="headerlink" title="报错处理"></a>报错处理</h4><p>引入<code>import table2excel from &#39;js-table2excel&#39;</code>，在<code>js-table2excel</code>上会有以下警告：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">无法找到模块“js-table2excel”的声明文件。“H:/Gitee/Vue3_demo/vue3-app-manage/node_modules/_js-table2excel@1.0.3@js-table2excel/index.js”隐式拥有 &quot;any&quot; 类型。</span><br><span class="line">  尝试使用 `npm i --save-dev @types/js-table2excel` (如果存在)，或者添加一个包含 `declare module &#x27;js-table2excel&#x27;;` 的新声明(.d.ts)文件</span><br></pre></td></tr></table></figure>

<h4 id="已安装对应模块，但报无法找到模块“XXX”的声明文件的解决方案"><a href="#已安装对应模块，但报无法找到模块“XXX”的声明文件的解决方案" class="headerlink" title="已安装对应模块，但报无法找到模块“XXX”的声明文件的解决方案"></a><a target="_blank" rel="noopener" href="https://www.cnblogs.com/feibiubiu/p/12603807.html">已安装对应模块，但报无法找到模块“XXX”的声明文件的解决方案</a></h4><h4 id="解决方法："><a href="#解决方法：" class="headerlink" title="解决方法："></a>解决方法：</h4><p>在src目录下，新建<code>shime-vue.d.ts</code>文件，在里面进行声明：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">declare module &#x27;js-table2excel&#x27;;</span><br></pre></td></tr></table></figure>

<h4 id="vue3网络请求到的数据为proxy对象时，如何获取值"><a href="#vue3网络请求到的数据为proxy对象时，如何获取值" class="headerlink" title="vue3网络请求到的数据为proxy对象时，如何获取值"></a><a target="_blank" rel="noopener" href="https://www.bilibili.com/read/cv12282506">vue3网络请求到的数据为proxy对象时，如何获取值</a></h4><h4 id="将proxy对象转为普通数组-toRaw"><a href="#将proxy对象转为普通数组-toRaw" class="headerlink" title="将proxy对象转为普通数组-toRaw"></a><a target="_blank" rel="noopener" href="https://v3.cn.vuejs.org/api/basic-reactivity.html#toraw">将proxy对象转为普通数组-toRaw</a></h4><p>注意：<code>toRaw</code>的时候，要加上<code>.value</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const selectedRowsArr = ref&lt;DataType[]&gt;([]);</span><br><span class="line"></span><br><span class="line">const list = toRaw(selectedRowsArr.value);  // 这个就是普通数组</span><br></pre></td></tr></table></figure>

<h4 id="13个开发常用的Vue-UI组件库"><a href="#13个开发常用的Vue-UI组件库" class="headerlink" title="13个开发常用的Vue UI组件库"></a><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/f98a14effc81">13个开发常用的Vue UI组件库</a></h4><h4 id="vue跳转页面的几种方法-推荐"><a href="#vue跳转页面的几种方法-推荐" class="headerlink" title="vue跳转页面的几种方法(推荐)"></a><a target="_blank" rel="noopener" href="https://www.jb51.net/article/183611.htm">vue跳转页面的几种方法(推荐)</a></h4><ol>
<li><p>router-link跳转</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 直接跳转 --&gt;</span><br><span class="line">&lt;router-link to=&#x27;/testDemo&#x27;&gt;</span><br><span class="line"> &lt;button&gt;点击跳转2&lt;/button&gt;</span><br><span class="line">&lt;/router-link&gt;</span><br><span class="line">  </span><br><span class="line">&lt;!-- 带参数跳转 --&gt;</span><br><span class="line">&lt;router-link :to=&quot;&#123;path:&#x27;testDemo&#x27;,query:&#123;setid:123456&#125;&#125;&quot;&gt;</span><br><span class="line"> &lt;button&gt;点击跳转1&lt;/button&gt;</span><br><span class="line">&lt;/router-link&gt;</span><br><span class="line">  </span><br><span class="line">&lt;router-link :to=&quot;&#123;name:&#x27;testDemo&#x27;,params:&#123;setid:1111222&#125;&#125;&quot;&gt;</span><br><span class="line"> &lt;button&gt;点击跳转3&lt;/button&gt;</span><br><span class="line">&lt;/router-link&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>this.$router.push()</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$router.push(&#x27;/testDemo&#x27;);</span><br></pre></td></tr></table></figure>

<p>element-ui下拉菜单的事件监听@command做页面跳转</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-dropdown class=&quot;ml15&quot; @command=&quot;handleCommand&quot;&gt;</span><br><span class="line">    &lt;span class=&quot;el-dropdown-link&quot;&gt;</span><br><span class="line">        &lt;!-- &lt;i class=&quot;el-icon-user-solid&quot;&gt;&lt;/i&gt; --&gt;</span><br><span class="line">        &lt;el-button icon=&quot;el-icon-user-solid&quot; circle size=&quot;mini&quot;&gt;&lt;/el-button&gt;</span><br><span class="line">    &lt;/span&gt;</span><br><span class="line">    &lt;el-dropdown-menu slot=&quot;dropdown&quot;&gt;</span><br><span class="line">        &lt;el-dropdown-item command=&quot;/user/updatepass&quot;&gt;修改密码&lt;/el-dropdown-item&gt;</span><br><span class="line">        &lt;el-dropdown-item command=&quot;/login&quot;&gt;退出登录&lt;/el-dropdown-item&gt;</span><br><span class="line">    &lt;/el-dropdown-menu&gt;</span><br><span class="line">&lt;/el-dropdown&gt;</span><br><span class="line"></span><br><span class="line">handleCommand(command) &#123;</span><br><span class="line">  console.log(command)</span><br><span class="line">  this.$router.push(command)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>获取当前路由—this.$route.path</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">this.$route.path</span><br><span class="line"></span><br><span class="line">if(this.$route.path!=&#x27;/Home&#x27;)&#123;</span><br><span class="line">      this.$router.push(&#123;</span><br><span class="line">          path:&#x27;/Home&#x27;,</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h4 id="vue项目中引入本地json文件"><a href="#vue项目中引入本地json文件" class="headerlink" title="vue项目中引入本地json文件"></a>vue项目中引入本地json文件</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const appsId = require(&#x27;@/utils/appsId.json&#x27;);</span><br></pre></td></tr></table></figure>

<p>appsId.json文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;1&quot;: &quot;未分类&quot;, </span><br><span class="line">    &quot;2&quot;: &quot;哈哈哈项目&quot;, </span><br><span class="line">    &quot;3&quot;: &quot;测试模块&quot;, </span><br><span class="line">    &quot;4&quot;: &quot;呵呵呵项目&quot;, </span><br><span class="line">    &quot;5&quot;: &quot;好啊好啊项目&quot;, </span><br><span class="line">    &quot;6&quot;: &quot;哈哈哈哈哈项目&quot;, </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在服务器上跑node服务，配置mongodb啊，你本地怎么运行的，服务器就怎么运行，只不过服务器上的node服务也好nginx也好，读取的是打包压缩后的静态项目资源，<code>服务器也就是可以通过外网ip访问的的一台电脑</code></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/44/">44</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="site-author-image" itemprop="image" alt="winney"
      src="/images/header.jpg">
  <p class="site-author-name" itemprop="name">winney</p>
  <div class="site-description" itemprop="description">Doing is better than saying.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">132</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">54</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">78</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      友情链接
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://www.xiaochao.me/" title="https:&#x2F;&#x2F;www.xiaochao.me&#x2F;" rel="noopener" target="_blank">小超</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://winney07.github.io/" title="https:&#x2F;&#x2F;winney07.github.io&#x2F;" rel="noopener" target="_blank">winney07</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2015 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">winney07</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
